angular.module("miller").run(["$templateCache", function($templateCache) {$templateCache.put("/static/templates/assign.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h1>\n      <a ng-if=\'state != \"assign.all\"\' href ui-sref=\'assign.all\'>../</a>\n      <span translate=\"headline.{{state}}.title\"></span>\n    </h1>\n    <p translate=\"headline.{{state}}.abstract\"></p>\n\n    <!-- Nav tabs -->\n    <ul class=\'nav nav-tabs\' style=\'margin-top:20px\'>\n      <li role=\"presentation\" ui-sref-active=\"active\" >\n        <a href ui-sref=\'assign.all\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.assign.all\"></a>\n      </li>\n    </ul>\n\n    <table cellspacing=\"20\">\n      <tr>\n        <td class=\'nav-filters\'>\n          <!-- <ul class=\'nav nav-tabs \'></ul> -->\n          <ul class=\'nav nav-tabs \'>\n            <li ng-repeat=\'link in links\' role=\"presentation\" ui-sref-active=\"active\" >\n              <a href ui-sref=\'assign.{{link.slug}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.assign.{{link.slug}}\"></a>\n            </li>\n          </ul>\n        </td>\n        <td><div ui-view></div></td>\n      </tr>\n    </table>\n  </div>\n</div>");
$templateCache.put("/static/templates/author.edit.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h2>{{author.fullname}}</h2>\n<form ng-submit=\"save()\">\n  <div class=\"row\">\n    <div class=\"col-sm-6\">\n    <p>\n    <label>\n      <span translate=\"field.label.firstname\"></span>\n    </label>\n    <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'author.data.firstname\'  type=\'text\'></textarea>\n    </p>\n    </div>\n    <div class=\"col-sm-6\">\n    <p>\n    <label>\n      <span translate=\"field.label.lastname\"></span>\n    </label>\n    <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'author.data.lastname\'  type=\'text\'></textarea>\n    </p>\n    </div>\n  </div>\n  \n\n  <p>\n  <label>\n    <span translate=\"field.label.affiliation\"></span>\n  </label>\n  <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'author.affiliation\'  type=\'text\'></textarea>\n  </p>\n\n  <p>\n  <label>\n    <span translate=\"field.label.bio\"></span>\n  </label>\n  <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'author.data.biography\'  type=\'text\' placeholder=\'short biography\'></textarea>\n  </p>\n\n  <div class=\"btn-line-group primary\">\n  <button class=\"btn-line\" type=\"submit\">\n    <span ng-if=\'!isSaving\' translate=\'button.save\'></span>\n    <span ng-if=\'isSaving\' translate=\'button.issaving\'></span>\n  </button>\n  </div>\n</form>\n</div>\n</div>");
$templateCache.put("/static/templates/author.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h2>{{author.fullname}}</h2>\n    <div class=\'affiliation sans-serif\' embedit=\'author.affiliation\' language=\'language\'></div>\n    \n    <div embedit=\'author.data.biography\' markdown=\'true\' language=\'language\'></div>\n    \n    <div ui-view></div>\n  \n    <div ng-if=\'isMe || user.is_staff\' class=\'actions\'>\n      <div class=\'btn-line-group primary\'>\n        <button ui-sref=\'modifyauthor({slug: author.slug})\' class=\'btn-line\' translate=\"button.edit.author\"></button>\n      </div>\n    </div>\n    \n  </div>\n</div>");
$templateCache.put("/static/templates/author.publications.html","\n\n<h3 ng-if=\'isMe\' translate=\"me.publications\"></h3>\n<h3 ng-if=\'!isMe\' translate=\"latest publications\"></h3>\n<!-- Nav tabs -->\n  <ul class=\'nav nav-tabs\'>\n    <li role=\"presentation\" ui-sref-active=\"active\" >\n      <a href ui-sref=\'author.publications.all\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.all.label\"></a>\n    </li>\n    \n\n    <li ng-repeat=\'link in urls.writing\' role=\"presentation\" ui-sref-active=\"active\">\n      <a ng-if=\'link.preventTranslation\' href ui-sref=\'author.publications.{{link.slug}}({username: author.profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">{{link.name}}</a>\n      <a ng-if=\'!link.preventTranslation\' href ui-sref=\'author.publications.{{link.slug}}({username: author.profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.{{link.name}}.label\"></a>\n    </li>\n    \n    <li ng-if=\'isMe\' ui-sref-active=\"active\">\n      <a href ui-sref=\'author.publications.drafts({username: author.profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"drafts\"></a>\n    </li>\n    <li ng-if=\'isMe\' ui-sref-active=\"active\">\n      <a href ui-sref=\'author.publications.bin({username: author.profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"bin\"></a>\n    </li>\n  </ul>\n  \n\n<div ui-view></div>\n");
$templateCache.put("/static/templates/authors.html","\n<h2 translate=\"headline.authors\"></h2>\n<ul class=\"nav nav-tabs ng-scope\">\n</ul>\n<div ui-view>\n  <div class=\'post\' ng-repeat=\'profile in items\'>\n    <div class=\'wrapper\'>\n      <div ng-if=\"!$first\" class=\"divider ng-scope\"></div>\n      <div class=\'tags\'><span class=\'tag\'>author</span></div>\n      <h3><a ui-sref=\"author.publications({username: profile.user.username})\">{{profile.user.first_name}} {{profile.user.last_name}}</a></h3>\n      <div class=\'type\'>{{profile.user.username}}</div>\n      <div markdown=\'profile.bio|| \"...\"\'></div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/blog.html","<div class=\'container tight-container\'>\n<div class=\'view\'>\n<div class=\'row\'>\n<div class=\'col-lg-8\'>\n  <div>\n    <h1 translate=\"headline.blog.title\"></h1>\n\n    <!-- <blockquote translate=\"headline.blog.abstract\"></blockquote> -->\n\n    </div>\n  </div>\n</div>\n<!-- Nav tabs -->\n<ul class=\"nav nav-tabs\" role=\"tablist\">\n  <li role=\"presentation\" ui-sref-active=\"active\"><a href ui-sref=\'blog.event\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.blog.events.label\"></a></li>\n  <li role=\"presentation\" ui-sref-active=\"active\"><a href ui-sref=\'blog.news\' aria-controls=\"profile\" role=\"tab\" data-toggle=\"tab\" translate=\"state.blog.news.label\"></a></li>\n</ul>\n\n<div ui-view></div>\n</div>\n</div>");
$templateCache.put("/static/templates/collection.html","<div class=\"collection\" ng-class=\'state|statetoclass\'>\n\n  \n\n  <div class=\'container\'>\n    <div class=\"view\">\n      \n\n      <div class=\"actions\" >\n        <div ng-if=\'story.isWritable\' class=\'btn-line-group primary\'>\n          <button  class=\'btn-line\' nref ui-sref=\'writing({storyId:story.slug})\'>edit</button>\n        </div>\n\n        <div ng-if=\'user.is_staff\' class=\'btn-line-group\'>\n          <button class=\'btn-line\' ng-click=\'setStatus(\"draft\")\' ng-class=\'{\"active warning\": story.status==\"draft\"}\' translate=\"story.status.draft\"></button>\n          <button class=\'btn-line\' ng-click=\'setStatus(\"public\")\' ng-class=\'{\"active\": story.status==\"public\"}\' translate=\"story.status.public\"></button>\n        </div>\n      </div>\n    </div>\n\n\n  </div>\n  \n  \n\n  <div class=\'container\'>\n    <div class=\'row\'>\n      <div class=\'col-md-12\'>\n        <div class=\"tags\" >\n          <!-- <span ng-if=\"story.tags.length\" class=\'tag sans-serif\' ng-repeat=\'tag in story.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span> -->\n          <span class=\'tag sans-serif\'>\n            <span class=\'tag writing\'><a ui-sref=\'publications.collection\'>collection</a></span>\n          </span>\n        </div>\n        <div class=\"issue\" embedit=\'story.data.issue\'></div>\n        <h1 id=\'collection-title\'><a ui-sref=\'story({storyId:story.slug})\' embedit=\'story.data.title\' language=\'language\'></a></h1>\n        \n        <!-- <div class=\'authors\' ng-if=\"story.authors.length\">\n          by <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n        </div> -->\n        \n      </div>\n    </div>\n  </div>\n\n\n  <div id=\'collection-index\' sticky offset=\'70\'>\n  <div class=\'container\' style=\"\">\n    <div class=\'row\'>\n      <div class=\"col-sm-12\">\n        <ul class=\'pagination\'>\n          <li ui-sref-active=\"active\" class=\'special\'>\n            <a ui-sref=\'story({postId:story.slug})\' translate=\'index\'>&nbsp;</a>\n          </li>\n          <li ui-sref-active=\"active\" ng-repeat=\"chapter in story._chapters\">\n            <a ui-sref=\'story.story({postId:story.slug, chapterId:chapter.slug})\'>{{$index + 1}}</a>\n          </li>\n\n        </ul>\n      </div>\n    </div>\n  </div>\n  </div>\n\n  <div ui-view  style=\'background: #f0f0f0; margin-top: 48px;\'>\n    <div class=\'container\'>\n    <div class=\"cover-wrapper\" ng-if=\'story.cover\'>\n      <div class=\'image-wrapper cover\' lazy-img=\'{{story.cover.attachment || story.cover.data.preview || story.cover.data.urls.Preview || story.cover.data.thumbnail_url || story.cover.data.url }}\'></div>\n      <div class=\'metadata-wrapper\' ng-init=\'document=story.cover\' ng-include=\'\"templates/partials/document.metadata.linear.html\"|prefixTemplate\'\'></div>\n    </div>\n    </div>\n    <div class=\'container\'>\n      <div class=\'row\'>\n        <div class=\"col-sm-12\">\n        <p id=\'collection-abstract\' embedit=\'story.data.abstract\' language=\'language\'></p>\n        </div>\n      </div>\n    </div>\n    <div  ng-repeat=\"chapter in story._chapters\">\n      <div class=\'container\'>\n        <div class=\"chapter\" ng-class=\'{\"last\": $last}\'>\n\n          <a class=\"number\" ui-sref=\'story.story({postId:story.slug, chapterId:chapter.slug})\'>{{$index + 1}}</a>\n          <div class=\'col-md-6\'>\n            <div class=\"inner\">\n              <div class=\"divider\"></div>\n              <div class=\"tags\" ng-if=\"chapter.tags.length\">\n                <span class=\"tag\" ng-repeat=\'tag in chapter.tags|filter:{ category: \"writing\", status:\"public\" }\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n              </div>\n              <h2><a ui-sref=\'story.story({postId:story.slug, chapterId:chapter.slug})\' embedit=\'chapter.data.title\' language=\'language\'></a></h2>\n              <blockquote embedit=\'chapter.data.abstract\' language=\'language\'></blockquote>\n            </div>\n          </div>\n          <div class=\'col-md-6\' style=\'padding:0\'>&nbsp;\n            <div ng-if=\'chapter.covers.length\' class=\"cover\" ng-repeat=\'document in chapter.covers\' class=\'fluid-container\'>\n              <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \n  </div>\n</div>");
$templateCache.put("/static/templates/doi.html","doi");
$templateCache.put("/static/templates/draft.html","<div class=\'container tight-container\'>\n<div class=\'view\'>\n  <p>\n    <label>\n      <span translate=\"field.label.title\"></span>\n    </label>\n    <textarea id=\'draft-title\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'title\'   type=\'text\' placeholder=\'Untitled\'></textarea>\n  </p>\n  <p>\n    <label>\n      <span translate=\"field.label.abstract\"></span>\n    </label>\n    <textarea id=\'draft-abstract\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'abstract\' type=\'text\' placeholder=\'abstract\'></textarea>\n  </p>\n\n  <div class=\'actions\'>\n    <div class=\'btn-line-group primary\'>\n      <button ng-click=\'save()\' class=\'btn-line\'><span translate=\"button.create\"></span></button>\n    </div>\n  </div>\n</div>\n</div>");
$templateCache.put("/static/templates/index.html","<div class=\"container\">\n  <div class=\"view\">\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <div class=\"col-md-12\">\n          <h5 class=\'lined\' style=\"margin-right: -15px;margin-left: -15px;\"><span translate=\'site.title\'></span></h5>\n\n          <!-- CONVER STORY -->\n          <div class=\"row\" style=\"padding-top: 18px\">\n            <div class=\'slides-wrapper\' slides autoscroll ng-mouseover=\'pause()\' ng-mouseout=\'play()\'>\n              <ul class=\'nav slides-nav\'>\n                <li ng-repeat=\"n in numSlides\" ng-click=\'jumpTo(n)\' ng-class=\'{\"active\": currentIndex == n}\'></li>\n              </ul>\n              <div class=\'slides-inner\'>\n                <div class=\'slides-rail\' style=\'transform: translateY(-{{currentOffset}}px)\'>\n                  <div class=\'slide\' style=\'width: 100%\' ng-repeat=\"coverstory in coverstories\" ng-include=\'\"templates/partials/coverstory.html\"|prefixTemplate\'></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-12\">\n          <h5 class=\'lined\' style=\"margin-right: -15px;margin-left: -15px;\"><span translate=\"title.lateststories\"></span></h5>\n          <div class=\"row\">\n\n          <!-- REMAINING STORIES -->\n            <div ng-repeat=\'story in otherstories\' class=\"col-md-6 story-card\" ng-class-odd=\"\'clear-left\'\">\n              <div class=\"coverstory other story-card-inner\">\n                <div ui-sref=\"story({postId: story.slug})\" style=\'cursor:pointer\' ng-if=\'story.covers.length\' ng-repeat=\'document in story.covers | limitTo:1\' class=\'fluid-container relative\'>\n                  <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n                  <div class=\'embedded-metadata\' ng-include=\'\"templates/partials/document.metadata.embedded.html\"|prefixTemplate\'></div>\n                </div>\n                <div class=\"preview-title-container\">\n                  <h3 class=\"preview-title\" style=\"overflow: hidden;\">\n                    <a ng-if=\'!story.is_collection\' href ui-sref=\"story({postId: story.slug})\" rewording value=\'story.data.title\' default=\'{{story.title}}\'></a>\n                    <a ng-if=\'story.is_collection\' href ui-sref=\"collection({collectionId: story.slug})\" rewording value=\'story.data.title\' default=\'{{story.title}}\'></a>\n                  </h3>\n                </div>\n                <div class=\'authors\' ng-if=\"story.authors.length\">\n                  by <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"col-md-12 tagcloud-container\">\n          <h5 class=\'lined\'><span translate=\"title.populartopics\"></span></h5>\n          <canvas id=\"tagcloud\"></canvas>\n        </div>\n        <div class=\"col-md-12\">\n          <h5 class=\'lined\'><span translate=\'title.latestnews\'></span></h5>\n          <div style=\"background-color: #f0f0f0; padding: 18px\">\n            <div ng-repeat=\'story in news\'>\n              <div class=\"coverstory news\">\n                <div ng-if=\'!$first\' class=\"divider\"></div>\n                <div class=\"date\">{{story.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</div>\n                <h4>\n                  <a ng-if=\'!story.is_collection\' href ui-sref=\"story({postId: story.slug})\" rewording value=\'story.data.title\' default=\'{{story.title}}\'></a>\n                  <a ng-if=\'story.is_collection\' href ui-sref=\"collection({collectionId: story.slug})\" rewording value=\'story.data.title\' default=\'{{story.title}}\'></a>\n                </h4>\n\n                <div ui-sref=\"story({postId: story.slug})\" style=\'cursor:pointer\' ng-if=\'story.covers.length\' ng-repeat=\'document in story.covers | limitTo:1\' class=\'fluid-container relative\'>\n                  <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n                  <div class=\'embedded-metadata\' ng-include=\'\"templates/partials/document.metadata.embedded.html\"|prefixTemplate\'></div>\n                </div>\n\n                <div class=\'contents\'>\n                  <div class=\'authors\' ng-if=\"story.authors.length\">\n                    by <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n                  </div>\n                  <blockquote class=\"reduced\">\n                    <span embedit=\'story.excerpt\' language=\'language\'></span>\n                    <a href ui-sref=\"story({postId: story.slug})\"><span class=\'icon-arrow-right-circle\'></span></a>\n                  </blockquote>\n                </div>\n                <div style=\'clear:both\'></div>\n\n              </div>\n            </div>\n          </div>\n\n          <div style=\'text-align: center; margin-top: 20px\'>\n            <div class=\"btn-line-group primary dual\" style=\"width: 90%;\">\n              <button class=\'btn-line\' ui-sref=\'blog.event\'>\n                <span translate=\'button.more.events\'></span>\n              </button>\n              <button class=\'btn-line\' ui-sref=\'blog.news\'>\n                <span translate=\'button.more.news\'></span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/items.html","<div ng-if=\'count == 0\' translate=\'items.empty\'></div>\n<div ng-if=\'itemTemplate == \"author.item\"\' ng-repeat=\'author in items\' ng-include=\'\"templates/partials/author.item.html\"|prefixTemplate\'></div>\n\n<div ng-if=\'itemTemplate == \"story\"\' ng-repeat=\'story in items\' ng-include=\'\"templates/partials/story.html\"|prefixTemplate\'></div>\n<div ng-if=\'itemTemplate == \"action\"\' ng-repeat=\'action in items\' ng-include=\'\"templates/partials/action.html\"|prefixTemplate\'></div>\n<div ng-if=\'itemTemplate == \"review\"\' ng-repeat=\'review in items\' ng-include=\'\"templates/partials/review.html\"|prefixTemplate\'></div>\n<div ng-if=\'itemTemplate == \"report\"\' ng-repeat=\'review in items\' ng-include=\'\"templates/partials/report.html\"|prefixTemplate\'></div>\n<div ng-if=\'itemTemplate == \"story.pending\"\' ng-repeat=\'story in items\' ng-include=\'\"templates/partials/story.pending.html\"|prefixTemplate\'></div>\n\n<div style=\'text-align: center\'>\n  <div ng-if=\'items.length > 0 && items.length < count\' class=\"btn-line-group primary\">\n    <button class=\'btn-line\' ng-click=\'more()\'>\n      <span ng-if=\'!isLoadingNextItems\'>\n        <span translate=\'button.more\'></span>\n        <span translate=\'missing\' translate-values=\"{count: missing}\"></span>\n      </span>\n      <span ng-if=\'isLoadingNextItems\' translate=\'button.loading\'></span>\n    </button>\n  </div>\n  <!-- when count equals item length, we are at the end -->\n</div>");
$templateCache.put("/static/templates/listofitems.html","<div class=\'container listofitems\'>\n  <div class=\'view\'>\n    <h1>\n      <a ng-if=\'state != mainStatename\' href ui-sref=\'{{mainStatename}}\'><span class=\"icon icon-arrow-left-circle\"></a>\n      <span translate=\"state.{{state}}.title\"></span><span ng-if=\'tag\' rewording value=\'tag.data.name\' follow=\'tag\' default=\'{{tag.name}}\'></span>\n    </h1>\n    <p translate=\"state.{{state}}.abstract\"></p>\n    <!-- Nav tabs -->\n    <ul class=\'nav nav-tabs nav-top\'>\n      <li role=\"presentation\" ui-sref-active=\"active\" >\n        <a href ui-sref=\'{{mainStatename}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.{{mainStatename}}.label\"></a>\n      </li>\n      <li ng-if=\'mainRoutes.length\' role=\"presentation\" class=\'divider\'></li>\n      <li ng-if=\'tag\' ui-sref-active=\"active\">\n        <a href class=\'quick\' ui-sref=\'{{rootStatename}}.tags({slug: tag.slug})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">\n          <span>{{tag.category}}</span>/<b rewording value=\'tag.data.name\' follow=\'tag\' default=\'{{tag.name}}\'></b>\n        </a>\n      </li>\n      <li ng-if=\'tag\' class=\'divider\'></li>\n      <li ng-if=\'mainRoutes\' ng-repeat=\'url in mainRoutes\' role=\"presentation\" ui-sref-active=\"active\">\n        <a ng-if=\'url.name\' href ui-sref=\'{{rootStatename}}.{{url.slug}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">{{url.name}}</a>\n        <a ng-if=\'!url.name\' href ui-sref=\'{{rootStatename}}.{{url.slug}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.{{rootStatename}}.{{url.slug}}.label\"></a>\n      </li>\n    </ul>\n    <!-- Nav tabs -->\n    <table cellspacing=\"20\" ng-if=\"noFiltering !== true\">\n      <tr>\n        <td class=\'nav-filters\'>\n          <ul class=\'nav nav-tabs\' ng-if=\'availabileOrderby\'>\n            <li class=\"dropdown\" style=\"width: 167px\">\n              <a bs-dropdown placement=\'bottom-left\' aria-haspopup=\"true\" aria-expanded=\"false\" style=\'position:relative; padding-right: 30px\'>\n                <span class=\'username\'><span class=\'ellipsis\' translate=\'order.by.{{ordering}}\'></span><span style=\'position:absolute; right:5px; top:0\' class=\'icon icon-arrow-down-circle\'></span></span>\n              </a>\n              <ul class=\"dropdown-menu\" role=\"menu\">\n                <li ng-repeat=\'orderby in availabileOrderby\' ng-class=\'{\"active\":params.orderby==orderby.value}\'><a ng-click=\'changeOrderby(orderby.value)\' translate=\'order.by.{{orderby.label}}\'></a></li>\n              </ul>\n            </li>\n          </ul>\n\n          <ul class=\'nav nav-tabs categoryFilters\' ng-if=\"availableRoutes.length\">\n            <li ng-if=\"url.slug!=\'all\'\" ng-repeat=\'url in availableRoutes\' role=\"presentation\" ng-class=\'{\"active\": isTagActive(url.slug)}\'>\n              <a ng-if=\'url.name\'\n                 ng-click=\'selectTag(url.slug)\'\n                 class=\"force-pointer\"\n                 aria-controls=\"home\"\n                 role=\"tab\"\n                 data-toggle=\"tab\">\n                {{url.name}}\n              </a>\n\n              <a ng-if=\'!url.name\'\n                 ng-click=\'selectTag(url.slug)\'\n                 class=\"force-pointer\"\n                 aria-controls=\"home\"\n                 role=\"tab\"\n                 data-toggle=\"tab\"\n                 translate=\"state.{{url.state}}.{{url.slug}}.label\">\n              </a>\n\n              <ul class=\'nav nav-tabs\' ng-if=\'hallOfFame.publishings && state == \"publications.\"+url.slug && hallOfFame.publishings.count\' style=\'border: 0px; border-left: 2px solid; padding-left: 10px\'>\n                <li ng-class=\'{\"active\":(filters.tags__slug__all | inArray : tag.slug)}\' ng-repeat=\'tag in hallOfFame.publishings.results\'>\n                  <a class=\'tag with-number\' ng-click=\'toggleFilter(\"tags__slug__all\", [tag.slug])\'>{{tag.name}}\n                  <span class=\'number\'>{{tag.stories}}</span>\n                  </a>\n                </li>\n              </ul>\n\n            </li>\n          </ul>\n\n          <h4 class=\'section\' ng-if=\'hallOfFame.topAuthors.count\' translate=\'top authors\'></h4>\n          <ul class=\'nav nav-tabs\' ng-if=\'hallOfFame.topAuthors.count\'>\n            <li ng-class=\'{\"active\":isAuthorActive(author.slug)}\' ng-repeat=\'author in hallOfFame.topAuthors.results\'>\n              <a class=\'author with-number\' ng-click=\'selectTag(author.slug, \"authors__slug__and\")\'>{{author.fullname}}\n              <span class=\'number\'>{{author.stories}}</span>\n              </a>\n            </li>\n          </ul>\n\n\n          <h4 class=\'section\' ng-if=\'keywords\'>Keywords</h4>\n          <ul class=\'nav nav-tabs\' ng-if=\'keywords\' style=\"border-bottom: none\">\n            <li ng-repeat=\'keyword in displayedKeywords\' ng-class=\'{\"active\": isTagActive(keyword.slug)}\'>\n              <a class=\'tag\' ng-click=\"selectTag(keyword.slug, null, tagsStateurl)\">{{getTranslatedTag(keyword)}}</a>\n            </li>\n          </ul>\n          <button ng-click=\"displayMoreKeywords()\"\n                  ng-if=\'keywords && keywords.length !== displayedKeywords.length\'\n                  class=\"btn btn-line pull-right\" style=\"margin-right: 30px; font-size: 9px\">\n            Load more\n          </button>\n        </td>\n        <td><div ui-view></div></td>\n      </tr>\n    </table>\n    <div ui-view ng-if=\"noFiltering === true\"></div>\n  </div>\n</div>");
$templateCache.put("/static/templates/login.html","<div class=\"container\">\n  <div class=\"view\">\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <h1 translate=\"login\"></h1>\n\n        <form role=\"form\" name=\"loginform\" method=\"POST\">\n          <div class=\"form-group\">\n            <label for=\"id_login_username\" translate=\"username\"></label>\n            <input type=\"text\" ng-model=\'username\' class=\"form-control\" id=\"id_login_username\" autofocus=\"autofocus\" name=\"username\" placeholder=\"username\" required>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"id_login_password\" translate=\"password\"></label>\n            <input type=\"password\" ng-model=\'pwd\' class=\"form-control\" id=\"id_login_password\" placeholder=\"Password\" name=\"password\" required>\n          </div>\n\n          <div class=\'btn-line-group primary\'>\n            <button class=\"btn btn-line\" ng-click=\"login()\" translate=\'button.login\'></button>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-6 col-sm-offset-3\">\n        <h3 translate=\'signup.with.social\'></h3>\n\n        <div class=\'btn-line-group\'>\n          <a class=\'btn btn-line\' href=\'/social/login/twitter\' translate=\'button.signup.with.twitter\'></a>\n        </div>\n        <div class=\'btn-line-group\'>\n          <a class=\'btn btn-line\' href=\'/social/login/google-oauth2\' translate=\'button.signup.with.google\'></a>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/md.html","<div class=\"container tight-container\">\n<div class=\"view\">\n<div class=\'row\'>\n  <div class=\'col-md-12\'>\n    <div class=\"contents\">\n    <div markdownit=\'md\' watchlanguage=\'true\' language=\'language\' settoc=\'setToC(ToC)\'></div>\n    </div>\n  </div>\n</div>\n</div>\n</div>");
$templateCache.put("/static/templates/notfound.html","not found. \nGo back");
$templateCache.put("/static/templates/notifications.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h2 translate=\'button.more.notification\'></h2>\n    <ul class=\"nav nav-tabs\" style=\"margin-top: 20px;\">\n      <li role=\"presentation\" ui-sref-active=\"active\">\n      <a href=\"/related-publications\" ui-sref=\"notifications.activities\" aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.notifications.activities.label\" class=\"ng-scope\"></a>\n    </ul>\n    <div ui-view></div>\n\n  </div>\n</div>");
$templateCache.put("/static/templates/profile.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h1>{{profile.username}}</h1>\n    <div ng-repeat=\'author in authors\' style=\"position:relative; border-bottom:1px solid #ccc\">\n    \n      <h2>{{author.fullname}}</h2>\n      <div class=\'affiliation sans-serif\' embedit=\'author.affiliation\' language=\'language\'></div>\n      \n      <div embedit=\'author.metadata.biography\' markdown=\'true\' language=\'language\'></div>\n      \n      \n    \n      <div ng-if=\'isMe || user.is_staff\' class=\'actions\'>\n        <div class=\'btn-line-group primary\'>\n          <button ui-sref=\'modifyauthor({slug: author.slug})\' class=\'btn-line\' translate=\"button.edit.author\"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <h3 translate=\"latest publications\"></h3>\n  <!-- Nav tabs -->\n  <ul class=\'nav nav-tabs\'>\n    <li role=\"presentation\" ui-sref-active=\"active\" >\n      <a href ui-sref=\'author.publications({slug: author.slug})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.all.label\"></a>\n    </li>\n    <li ng-if=\'isMe\' ui-sref-active=\"active\">\n      <a href ui-sref=\'profile.publications({username: profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"drafts\"></a>\n    </li>\n    <li ng-if=\'isMe\' ui-sref-active=\"active\">\n      <a href ui-sref=\'profile.publications({username: profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"bin\"></a>\n    </li>\n  </ul>\n  \n\n  <div ui-view></div>\n</div>");
$templateCache.put("/static/templates/review.html","\n<div ui-view>\n  <div class=\'container\'>\n  <div class=\'view review\'>\n    <div class=\"actions\" >\n      <div class=\'btn-line-group\'>\n        <button ng-if=\'is_assignee && is_reviewed\' class=\'btn-line\' ui-sref=\"reviews.complete\" translate=\"button.backtoreviews\"></button>\n        <button ng-if=\'is_assignee && !is_reviewed\' class=\'btn-line\' ui-sref=\"reviews.pending\" translate=\"button.backtoreviews\"></button>\n        <button ng-if=\'!is_assignee && is_reviewed\' class=\'btn-line\' ui-sref=\"assign.all\" translate=\"button.backtoreviews\"></button>\n        <button ng-if=\'!is_assignee && !is_reviewed\' class=\'btn-line\' ui-sref=\"assign.pending\" translate=\"button.backtoreviews\"></button>\n      </div>\n      <div class=\'btn-line-group primary\'>\n        <button class=\'btn-line\' ui-sref=\"review.story({id:review.id})\" translate=\"button.viewmode\"></button>\n      </div>\n    </div>\n\n    <h1><span translate=\"headline.review.of\"></span></h1>\n    <div class=\'reviewed\'>\n      <div class=\"date\">{{review.story.date|date:\'mediumDate\'}}</div>\n      \n      <h2><a ui-sref=\'review.story({id:review.id})\' embedit=\'review.story.metadata.title\' language=\'language\'></a></h2>\n      <blockquote ng-if=\'review.story.metadata.abstract\' embedit=\'review.story.metadata.abstract\' language=\'language\'></blockquote>\n      <div ng-if=\'!is_editable && review.category != \"editing\"\'>\n        <h2 class=\'center\' ><span translate=\'field.label.review.score\'></span> <span ng-class=\'{\"error\": !is_valid}\'>{{points}}</span> / {{fields.length * 5}}</span></h2>\n        <!-- final decision: -->\n        <h3 class=\'center\'>\n          <span translate=\'field.label.review.status.{{review.status}}\'></span>\n        </h3>\n      </div>\n    </div>\n\n    \n\n    <form class=\'generic-form-wrapper\' name=\"createForm\" novalidate>\n      <div ng-if=\'review.category != \"editing\"\' ng-repeat=\'field in fields\' style=\'margin: 10px 0 20px 0px\'>\n        <label style=\'margin-left:60px\'>\n\n          <span class=\"number\" ng-class=\'{\"active\": review[field + \"_score\"] > 0, \"error\": createForm[field].$dirty && !createForm[field].$valid}\'>{{$index+1}}<span class=\'todo\' ng-class=\'{\"resolved\": review[field + \"_score\"] > 0}\'></span></span>\n            <span translate=\"field.label.{{field}}\"></span>\n          <!-- <p class=\'description\' translate=\"field.label.{{field}}.description\"></p> -->\n        </label>\n        <div rating readonly=\'!is_editable\' ng-model=\'review[field + \"_score\"]\'></div>\n        <div ng-show=\'is_editable\' class=\'elastic-textarea-wrapper\'>\n          <textarea placeholder=\'{{\"field.label.placeholder.review\" | translate}}\' class=\'elastic-textarea\' msd-elastic ng-model=\'review[field]\' name=\'{{field}}\' ng-model-options=\"{ debounce: 200 }\" ng-disabled=\'!is_editable\'></textarea>\n\n        </div>\n        <div class=\'answer\' ng-if=\'!is_editable && review[field].length\' embedit=\'review[field]\' markdown></div>\n      </div>\n\n      <div style=\'margin: 10px 0 20px 0px\'>\n        <label ng-if=\'review.category != \"editing\"\' style=\'margin-left:60px\'>\n\n          <span class=\"number\" ng-class=\'{\"active\": createForm.reviewcontentstext.$valid, \"error\": createForm.reviewcontentstext.$dirty && !createFormreviewcontentstext.$valid}\'>{{fields.length + 1}}</span>\n            <span translate=\"field.label.review.final\"></span>*\n          <p class=\'description\' translate=\"field.label.review.final.description\"></p>\n        </label>\n\n        <label ng-if=\'review.category == \"editing\"\'>\n          <span translate=\"field.label.review.final\"></span>\n          <p class=\'description\' translate=\"field.label.review.final.description\"></p>\n        </label>\n        <div ng-show=\'is_editable\' class=\'elastic-textarea-wrapper\'>\n          <textarea rows=\"5\" placeholder=\'{{\"field.label.placeholder.review\" | translate}}\' required class=\'elastic-textarea\' msd-elastic ng-model=\'review.contents\' name=\'reviewcontentstext\' ng-model-options=\"{ debounce: 200 }\" ng-disabled=\'!is_editable\' ></textarea>\n\n        </div>\n        <div class=\'answer\' ng-if=\'!is_editable\' embedit=\'review.contents\' markdown></div>\n      </div>\n\n\n      <div style=\'margin: 20px 0\'>\n        <h2 class=\'center\' ng-if=\'review.category != \"editing\"\' ><span translate=\'field.label.review.score\'></span> <span ng-class=\'{\"error\": !is_valid}\'>{{points}}</span> / {{fields.length * 5}}</span></h2>\n        <!-- final decision: -->\n        <h3 ng-if=\'!is_editable\' class=\'center\'>\n          <span translate=\'field.label.review.status.{{review.status}}\'></span>\n        </h3>\n        <div ng-if=\'is_editable && is_valid && createForm.$valid\'>\n          <p translate=\'field.label.review.final.decision\'></p>\n          <div class=\"radio\" ng-repeat=\'status in availableStatuses\'>\n            <label>\n              <input type=\"radio\"\n                ng-model=\"$parent.$parent.reviewStatus\"\n                value=\"{{status}}\"\n                name=\"reviewstatus\">\n              <span translate=\'field.label.review.status.{{status}}\'></span>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div ng-if=\'is_editable\' class=\'center\' style=\'margin: 20px 0\'>\n        <div class=\'btn-line-group\' ng-class=\'{\"primary\": is_valid && reviewStatus != \"intital\" && reviewStatus != \"draft\", \"disabled\": !is_valid}\'>\n          <button class=\'btn-line\' ng-click=\'finalize(reviewStatus)\' ng-disabled=\'!is_valid || reviewStatus == \"intital\" || reviewStatus == \"draft\"\'><span translate=\'button.reviewcompleted\' translate-values=\'{is_valid: is_valid && reviewStatus != \"intital\" && reviewStatus != \"draft\"}\'></span></button>\n        </div>\n\n        <div class=\'btn-line-group\' ng-class=\'{\"primary\": reviewStatus == \"intital\" || reviewStatus == \"draft\"}\'>\n          <button class=\'btn-line\' ng-click=\'save()\'><span translate=\'button.savedraft\' translate-values=\'{isSaving: isSaving}\'></span></button>\n        </div>\n      </div>\n    </form>\n\n  </div>\n</div>\n</div>");
$templateCache.put("/static/templates/search.html","<div class=\'container\'>\n<div class=\'view\'>\n<div class=\'row\'>\n  <div class=\'col-md-8\'>\n    <span translate=\'matchesfound\' translate-values=\"{count: count, query: query}\"></span>\n    \n    <ul class=\"filters\">\n      <li class=\'filter\' ng-class=\'k\' ng-repeat=\"(k, v) in qs\">\n        <span ng-if=\'k == \"q\"\'>{{v}}</span>\n        <span ng-if=\'k != \"q\"\'>{{k}}: {{v}} <span ng-click=\"removeLocationFilter(k)\" class=\"icon icon-close\"></span></span>\n      </li>\n    </ul>\n  </div>\n</div>\n<!-- Nav tabs -->\n<ul class=\'nav nav-tabs\'>\n</ul>\n  <div ui-view></div>\n</div>\n</div>");
$templateCache.put("/static/templates/story.chapter.html","<div class=\"story\" style=\'margin-top: 10px\'>\n  \n  \n  \n\n  <div class=\'overlay\'>\n    <div class=\'container\'>\n      \n\n      <div class=\'row\'>\n        <div class=\'col-md-12\'>\n\n          <div class=\"actions\" style=\'top:10px\'>\n            <div ng-if=\'chapter.isWritable\' class=\'btn-line-group primary\'>\n              <button  class=\'btn-line\' nref ui-sref=\'writing({storyId:chapter.slug, collection:story.slug})\'>edit</button>\n            </div>\n\n            <div ng-if=\'user.is_staff\' class=\'btn-line-group\'>\n              <button class=\'btn-line\' ng-click=\'setStatus(\"draft\")\' ng-class=\'{\"active warning\": chapter.status==\"draft\"}\' translate=\"story.status.draft\"></button>\n              <button class=\'btn-line\' ng-click=\'setStatus(\"public\")\' ng-class=\'{\"active\": chapter.status==\"public\"}\' translate=\"story.status.public\"></button>\n            </div>\n          </div>\n\n          <h1><span class=\"\" embedit=\'chapter.data.title\' language=\'language\'></span></h1>\n          \n          <!-- story reference and cite as buttons -->\n          <div embedit=\'chapter.data.reference\' ng-if=\'chapter.data.reference\' markdown=\'true\' language=\'language\'></div>\n          \n          <!-- social share buttons: -->\n          <div ng-if=\'chapter.status == \"public\"\' ng-include=\'\"templates/partials/story.socialshare.html\"|prefixTemplate\'></div>\n\n          \n          <blockquote embedit=\'chapter.data.abstract\' language=\'language\'></blockquote>\n          <div class=\'authors\' ng-if=\"chapter.authors.length\">\n            by <span ng-repeat=\'author in chapter.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n          </div>\n\n\n        </div>\n\n        \n      </div>\n      <div ng-if=\'chapter.covers.length\' class=\"main cover\" ng-repeat=\'document in chapter.covers\'>\n        <div class=\'cover-oembed cover-chapter\' rich-oembed fullscreen=\'fullsize(document.slug)\' autoplay=\'true\' oembed=\'document.data\' media=\'document\' coverquality=\'hifi\'></div>\n        <div class=\'metadata-wrapper\' ng-include=\'\"templates/partials/document.metadata.html\"|prefixTemplate\'\'></div>\n      </div>\n     \n\n      <div class=\'row\' style=\'margin-bottom: 50px\'>\n        <div  ng-class=\'{\"col-md-12\": !documents.length, \"col-md-8 col-lg-7\": documents.length}\'>\n          <div class=\"contents\">\n            <div markdownit=\'chapter.contents\' language=\'language\' listener=\'listener(event, data, callback)\' settoc=\'setToC(ToC)\' setdocs=\'setDocuments(items)\'></div>\n          </div>\n        </div>\n        <div class=\'col-md-4 col-lg-5\' ng-if=\'documents.length\' respect-previous-sibling update=\"documents\">\n          <div sliding-steps data-language=\'language\' data-focus=\'focusedIdx\' style=\'height:100%\' items=\'documents\'></div>\n        </div>\n      </div>\n      <!-- <div style=\'margin-top: 50px\' disqus=\"story.slug\"></div> -->\n    </div>\n  </div>\n</div>\n");
$templateCache.put("/static/templates/story.html","<div ng-if=\'story._isCollection\' ng-include=\'\"templates/collection.html\"|prefixTemplate\'></div>\n\n<div ng-if=\'!story._isCollection\' class=\"story\">\n  <div class=\'container tight-container tight-container tight-container\'>\n    <div class=\"view\">\n      <div class=\"actions\" >\n        <div ng-if=\'review\' class=\'btn-line-group transparent\'>\n          <button class=\'btn-line\' ui-sref=\"reviews.pending\" translate=\"button.backtoreviews\"></button>\n        </div>\n        <div ng-if=\'review\' class=\'btn-line-group primary transparent\'>\n          <button class=\'btn-line\' ui-sref=\"review({id:review.id})\" translate=\'button.completereview\'></button>\n        </div>\n        <div class=\'btn-line-group transparent\'>\n          <div class=\"dropdown\">\n            <!-- <li class=\"dropdown\" ng-class=\"{active: state.includes(\'me\') || state.includes(\'draft\')}\"> -->\n\n              <a class=\'btn-line\' bs-dropdown placement=\'bottom-right\' aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span translate=\'button.downloadas\'></span> <span class=\'icon icon-cloud-download\'></span>\n              </a>\n\n              <ul class=\"dropdown-menu\" role=\"menu\">\n                <li>\n                  <a ng-href=\"/api/story/{{story.id}}/download/\" _target=\"blank\">pdf</a>\n                </li>\n                <li ng-if=\'story.source && (user.is_staff || user.is_chief_reviewer || user.is_reviewer)\'>\n                  <a ng-href=\"/api/story/{{story.id}}/download/source\" _target=\"blank\"><span class=\'icon icon-lock\'></span>&nbsp;&nbsp;<span translate=\'button.downloadsource.limited\'></span> </a>\n                </li>\n              </ul>\n\n          </div>\n          <!-- <a  class=\'btn-line\' ng-href=\"/api/story/{{story.id}}/download/\" _target=\"blank\">PDF <span class=\'icon icon-cloud-download\'></span></a> -->\n        </div>\n\n        <div ng-if=\'story.isWritable && !story.isUnderReview\' class=\'btn-line-group primary transparent\'>\n          <button class=\'btn-line\' nref ui-sref=\'writing({storyId:story.slug})\'><span translate=\'edit\'></span> <span class=\'icon icon-pencil\'></span></button>\n        </div>\n\n\n        <div ng-if=\'story.isWritable && !story.isUnderReview\' class=\'btn-line-group primary transparent\'>\n          <button  class=\'btn-line\' ng-if=\'story.status!=\"deleted\"\' ng-click=\'setStatus(\"deleted\")\' translate=\'remove\'><span class=\'icon icon-bin\'></span></button>\n          <button  class=\'btn-line\' ng-if=\'story.status==\"deleted\"\' ng-click=\'setStatus(\"draft\")\' translate=\'recover\'><span class=\'icon icon-bin\'></span></button>\n        </div>\n\n\n        <div ng-if=\'!user.is_staff && !story.isUnderReview && story.isWritable\' class=\'btn-line-group secondary\'>\n          <button class=\'btn-line\' ng-click=\'publish()\'><span translate=\'button.askforpublication\'></span><span class=\'icon icon-pencil\'></span></button>\n        </div>\n        <div ng-if=\'story.status == \"pending\"  && !user.is_staff\' class=\'btn-line-group primary transparent\'>\n          <button class=\'btn-line\' ng-disabled=\'true\'><span translate=\'story.status.pending\'></span></button>\n        </div>\n        <div ng-if=\'story.status == \"pending\" && user.is_staff\' class=\'btn-line-group primary transparent\'>\n          <button class=\'btn-line\' ng-click=\'createReview()\'><span translate=\'story.status.pending\'></span></button>\n        </div>\n        <div ng-if=\'story.status == \"editing\"\' class=\'btn-line-group primary transparent\'>\n          <button class=\'btn-line\' ng-disabled=\'true\'><span translate=\'story.status.editing\'></span></button>\n        </div>\n        <div ng-if=\'user.is_staff && !story.isUnderReview\' class=\'btn-line-group\'>\n          <button class=\'btn-line\' ng-click=\'setStatus(\"draft\")\' ng-class=\'{\"active warning\": story.status==\"draft\"}\' translate=\"story.status.draft\"></button>\n          <button class=\'btn-line\' ng-click=\'setStatus(\"public\")\' ng-class=\'{\"active\": story.status==\"public\"}\' translate=\"story.status.public\"></button>\n        </div>\n\n        <div ng-if=\'story.status == \"review\"\' class=\'btn-line-group primary transparent\'>\n          <button class=\'btn-line\' ng-disabled=\'true\'><span translate=\'story.status.review\'></span></button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n\n\n  <div class=\'overlay\'>\n    <div class=\'container tight-container tight-container tight-container\'>\n      <div class=\'row\'>\n        <div class=\'col-md-8\'>\n          <div class=\"tags\" >\n            <span class=\'tag sans-serif\' ng-repeat=\'tag in story._tags.writing\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n            <span class=\'tag sans-serif\' ng-repeat=\'tag in story._tags.blog\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n             <span class=\'date publication-date\'>{{story.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</span>\n\n          </div>\n\n          <div class=\'authors\' ng-if=\"story.authors.length\">\n            by <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n          </div>\n\n\n        </div>\n      </div>\n\n      <div class=\'row\'>\n        <div class=\'col-md-12\'>\n          <h1 rewording value=\'story.data.title\' default=\'{{story.title}}\'></h1>\n\n          <div class=\"pull-right\">\n<!--            <span ng-if=\"story.hitcount.read\" class=\"label label-default\">{{story.hitcount.read}}</span><span> Reads</span><span ng-if=\"story.hitcount.read && story.hitcount.download\">  </span> <span ng-if=\"story.hitcount.download\" class=\"label label-default\">{{story.hitcount.download}}</span><span> Downloads</span>-->\n            <div style=\"font-size: 11px\">\n              <span ng-if=\"story.hitcount.read\" style=\"margin-right: 2px\">Reads</span><span class=\"label label-default\">{{story.hitcount.read}}</span>\n              <span ng-if=\"story.hitcount.download\" style=\"margin-left: 15px; margin-right: 2px\">Downloads</span><span class=\"label label-default\">{{story.hitcount.download}}</span>\n            </div>\n          </div>\n\n          <!-- social share buttons: -->\n          <div ng-if=\'story.status == \"public\"\' ng-include=\'\"templates/partials/story.socialshare.html\"|prefixTemplate\'></div>\n\n          <!-- story reference and cite as buttons -->\n          <!-- <div embedit=\'story.data.issue\' ng-if=\'story.data.issue\' markdown=\'true\' language=\'language\'></div>\n          -->\n\n          <blockquote class=\'abstract\' rewording markdown=\'inline\' value=\'story.data.abstract\' default=\'{{story.abstract}}\'></blockquote>\n\n          <div class=\"tags keywords\">\n            <span ng-if=\"story._tags.keyword\" translate=\"keywords\" class=\'label\'></span>\n            <span class=\'tag sans-serif\' ng-repeat=\'tag in story._tags.keyword\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n          </div>\n          <div class=\'btn-line-group transparent toC\'>\n            <button class=\'btn btn-line\' ng-if=\'ToC.length\' ng-click=\'toggleTableOfContents($event)\'><span translate=\'table of contents\'></span> <span class=\'icon icon-book-open\'></span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n      <div ng-if=\'story._isBiography\'>\n        <div class=\'container tight-container\' >\n          <div class=\'row no-gutter biography-wrapper\' >\n            <div class=\'col-sm-4\' style=\'padding: 0\' respect-sibling=\'next\'>\n              <div ng-if=\'story.covers.length\' class=\"main cover\" style=\'height: 100%\' ng-repeat=\'document in story.covers\'>\n                <div class=\'cover-oembed\' rich-oembed fullscreen=\'fullsize(document.slug)\' autoplay=\'true\' oembed=\'document.data\' media=\'document\' quality=\'{{document.type==\"image\" || document.type==\"photo\"? \"hifi\":\"snapshot\"}}\'></div>\n              </div>\n              <div ng-if=\'!story.covers.length\' class=\"main cover\" style=\'height: 100%\'>\n\n                <div class=\"lazy-cover\" style=\"background-position:{{story._biography.data.offsetx}} {{story._biography.data.offsety}};\" lazy-img=\"{{story._biography.data.url||story._biography.data.thumbnail_url}}\"></div>\n              </div>\n\n            </div>\n            <div class=\'col-sm-8\' >\n              <div biography data=\'story._biography.data\'></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div ng-if=\'!story._isBiography && story.covers.length\' class=\"main cover\" ng-repeat=\'document in story.covers\'>\n        <div class=\'container tight-container\'>\n\n          <div class=\'cover-oembed\'  style=\'height: 400px\' rich-oembed fullscreen=\'fullsize(document.slug)\' autoplay=\'true\' oembed=\'document.data\' media=\'document\' quality=\'{{document.type==\"image\" || document.type==\"photo\"? \"hifi\":\"snapshot\"}}\'></div>\n\n          <!-- </div> -->\n\n          <!-- <div class=\'col-md-4\'> -->\n          <div class=\'metadata-wrapper\' ng-include=\'\"templates/partials/document.metadata.linear.html\"|prefixTemplate\'></div>\n          <!-- </div> -->\n        <!-- </div> -->\n        </div>\n      </div>\n\n    <div class=\'container tight-container\'>\n\n\n      <div class=\'row\' style=\'margin-bottom: 100px\'>\n        <div  ng-class=\'{\"col-md-12\": !sidedocuments, \"col-md-8 col-lg-7 col-xs-8\": sidedocuments}\'>\n\n          <div style=\'position:relative\' class=\"contents\">\n\n            <!-- contents of the story -->\n            <div id=\'contents\' markdownit=\'story.contents\' watchlanguage=\'true\' language=\'language\' listener=\'listener(event, data, callback)\' settoc=\'setToC(ToC)\' setdocs=\'setDocuments(items)\'></div>\n\n            <!-- DOI / reference -->\n            <div class=\'ref\' ng-if=\'story.data.reference\'>\n              <span translate=\'ref\' class=\'label\'></span>\n              <a target=\'_blank\' embedit=\'story.data.reference\' markdown=\'true\' language=\'language\'></a>\n            </div>\n\n            <div class=\'ref\' ng-if=\'story.data.doi\'>\n              <span class=\'label\' ng-if=\'story.data.doi\' translate=\'doi\'></span>\n              <a ng-if=\'story.data.doi\' ng-href=\'https://doi.org/{{story.data.doi}}\' target=\'_blank\'><p>{{story.data.doi}}</p></a>\n            </div>\n            <!-- contains the commenter -->\n            <div ng-if=\'story.isWritable || story.isReviewable\' rangy container tight-container=\'contents\' highlights=\'story.highlights\' commented=\'commented(error, comment)\' target=\'story\' actor=\'user\' onCommentsSelected=\'commentsSelected(uids)\'></div>\n\n\n          </div>\n        </div>\n        <div ui-view class=\'col-md-4 col-lg-5 col-xs-4\' ng-if=\'sidedocuments\' respect-previous-sibling update=\"documents\">\n          <div  sliding-steps data-language=\'language\' data-focus=\'focusedIdx\' style=\'height:100%\' items=\'documents\'></div>\n        </div>\n      </div>\n    </div>\n\n    <div  class=\'versioning\' sticky >\n\n      <div ng-if=\'story.isWritable\' class=\"btn-line-group transparent dropdown\">\n        <a class=\'btn-line\' ng-click=\'loadVersions()\' bs-dropdown placement=\'top-left\' aria-haspopup=\"true\" aria-expanded=\"false\">\n          <span ng-if=\'state==\"story\"\'>most recent version</span><span ng-if=\'state!=\"story\"\'>version: {{story.version}}</span> <span class=\'icon icon-list\'></span>\n        </a>\n\n        <ul class=\"dropdown-menu\" role=\"menu\">\n          <li ng-repeat=\'version in versions\'>\n            <a ui-sref=\'storygit({id:story.slug, commit:version.tag})\'>{{version.tag}} ({{version.date}})</a>\n          </li>\n          <li>\n            <a ui-sref=\'story({postId:story.slug})\'>most recent version</a>\n          </li>\n        </ul>\n\n      </div>\n      <!-- <div>{{neighbors}}</div> -->\n      <div class=\"btn-line-group transparent black \" ng-if=\'neighbors.previous_sibling\'>\n        <button class=\'btn-line\' title=\'{{neighbors.previous_sibling.title}}\'  ui-sref=\'story({postId:neighbors.previous_sibling.slug})\'>\n          <span class=\'icon left icon-arrow-left-circle\'></span>\n          <span class=\'truncate\' rewording value=\'neighbors.previous_sibling.data.title\' default=\'{{neighbors.previous_sibling.title}}\'></span>\n        </button>\n      </div>\n      <div class=\"btn-line-group transparent black\" ng-if=\'neighbors.next_sibling\'>\n        <button class=\'btn-line\' title=\'{{neighbors.next_sibling.title}}\' ui-sref=\'story({postId:neighbors.next_sibling.slug})\'>\n          <span class=\'truncate\' rewording value=\'neighbors.next_sibling.data.title\' default=\'{{neighbors.next_sibling.title}}\'></span>\n          <span class=\'icon icon-arrow-right-circle\'></span>\n        </button>\n      </div>\n    </div>\n\n    <div marginalia whenvisible=\'loadComments()\'></div>\n\n  </div>\n  <div class=\'responses\' ng-if=\'story.isWritable || story.isReviewable\'>\n    <div class=\'container tight-container\' >\n      <div class=\'row\' style=\'margin-bottom: 100px\'>\n        <div class=\'col-md-12\'>\n          <!-- comment list babe -->\n            <div  class=\'sliding-steps\'>\n              <div class=\'step comment commenter-wrapper\' commenter disable-close=\"true\" target=\"story\" disable-viewer=\"true\" actor=\"user\" commented=\"commented(error, comment)\"></div>\n\n              <div ng-repeat=\'comment in comments\' ng-include=\'\"templates/partials/comment.html\"|prefixTemplate\'></div>\n\n              <div class=\'more-wrapper\'>\n                <div ng-if=\'comments.length > 0 && comments.length < commentsCount\' class=\"btn-line-group primary\">\n                  <button class=\'btn-line\' ng-click=\'moreComments()\'>\n                    <span ng-if=\'!isLoadingComments\'>\n                      <span translate=\'button.more\'></span>\n                      <span translate=\'missing\' translate-values=\"{count: (commentsCount-comments.length)}\"></span>\n                    </span>\n                    <span ng-if=\'isLoadingComments\' translate=\'button.loading\'></span>\n                  </button>\n                </div>\n                <!-- when count equals item length, we are at the end -->\n              </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n");
$templateCache.put("/static/templates/tags.html","<div class=\'container\'>\n<div class=\"view\">\n<div class=\'row\'>\n<div class=\'col-lg-8\'>\n  <div>\n    <h1 translate=\"headline.publications.title\"></h1>\n\n    <blockquote translate=\"headline.publications.abstract\"></blockquote>\n\n    </div>\n  </div>\n</div>\n\n\n<!-- Nav tabs -->\n<ul class=\'nav nav-tabs\'>\n  <li role=\"presentation\" ui-sref-active=\"active\" >\n    <a href ui-sref=\'publications.all\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.all.label\"></a>\n  </li>\n  <li ng-repeat=\'link in urls\' role=\"presentation\" ui-sref-active=\"active\">\n    <a href ui-sref=\'publications.{{link.name}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.{{link.name}}.label\"></a>\n  </li>\n  <li ng-if=\'slug\' role=\"presentation\" ui-sref-active=\"active\" >\n    <a href ui-sref=\'publications.tags({slug: slug})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">/filter: <b>{{slug}}</b>/</a>\n  </li>\n</ul>\n\n\n<div ui-view></div>\n</div>\n</div>");
$templateCache.put("/static/templates/upload.html","<div class=\'container\'>\n<div class=\'view\'>\n<div class=\"row\">\n  <div class=\"col-lg-8\">\n    <div>\n      <h1 translate=\"upload.title\" class=\"ng-scope\">Publications</h1>\n\n      <blockquote translate=\"upload.description\" class=\"ng-scope\"></blockquote>\n\n      </div>\n    </div>\n  </div>\n</div>\n \n\n<div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>\n\n<div class=\'drop-box-form-wrapper\'>\n  <form name=\"createForm\" novalidate class=\"simple-form\">\n    <label>\n      <span class=\"number\" ng-class=\'{\"active\": createForm.utitle.$valid, \"error\": createForm.utitle.$dirty && !createForm.utitle.$valid}\'>1</span>\n      <span translate=\"field.label.upload.title\"></span>\n    </label>\n    <textarea id=\'draft-title\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'uploadable.title\' name=\'utitle\' required type=\'text\' placeholder=\'Untitled\'></textarea>\n    \n    <label>\n      <span class=\"number\" ng-class=\'{\"active\": createForm.uabstract.$valid, \"error\": createForm.uabstract.$dirty && !createForm.uabstract.$valid}\'>2</span>\n      <span translate=\"field.label.upload.abstract\"></span>\n    </label>\n    <textarea id=\'draft-abstract\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'uploadable.abstract\' name=\'uabstract\' required type=\'text\' placeholder=\'abstract\'></textarea>\n\n    <label>\n      <span class=\"number\" ng-class=\'{\"active\": uploadable.size}\'>3</span>\n      <span translate=\"field.label.upload.docx\"></span>\n    </label>\n    <div ng-show=\'!uploadable.size\'>\n    <div ngf-drop ngf-select ng-model=\"docx\" class=\"drop-box sans-serif\" \n    ngf-drag-over-class=\"\'dragover\'\" ngf-multiple=\"false\" ngf-allow-dir=\"true\"\n    accept=\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" \n    ngf-pattern=\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\">Drop docx or click to upload</div>\n    </div>\n    <div ng-if=\"uploadable.size\" class=\"uploadable\">\n      <span class=\'icon-doc\'></span> \n      <span class=\'sans-serif\'>{{uploadable.name}}</span>\n      <span class=\"size\">{{uploadable.size}}</span>\n    </div>\n\n    <div class=\'button-wrapper\'>\n      <span class=\"number\" ng-class=\'{\"active\": createForm.$valid && uploadable.size}\'>4</span>\n      <div class=\'btn-line-group\' ng-class=\'{\"primary\": createForm.$valid && uploadable.size}\'>\n        <button class=\'btn-line\' type=\"submit\" ng-click=\"upload()\">\n          <span ng-if=\'createForm.$valid && uploadable.size\' translate=\'button.upload.story\'></span>\n          <span ng-if=\'!createForm.$valid || !uploadable.size\' translate-values=\'{ steps: (3 - +createForm.utitle.$valid - +createForm.uabstract.$valid - +!!uploadable.size)}\' translate=\'upload.missing.steps\'></span>\n        </button>\n      </div>\n    </div>\n    \n  </form>\n  \n</div>\n</div>\n</div>");
$templateCache.put("/static/templates/uploaded.html","<div class=\"row\">\n  <div class=\"col-lg-8\">\n    <div>\n      <h1 translate=\"upload.success.title\" class=\"ng-scope\">Your content has been submitted</h1>\n\n      <blockquote translate=\"upload.success.description\" class=\"ng-scope\"></blockquote>\n\n      <div ng-include=\'\"templates/partials/story.html\"|prefixTemplate\'></div>\n\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/writings.compare.diff.html","<div codediff diff=\'diff\' raw=\'story.contents\'></div>");
$templateCache.put("/static/templates/writings.compare.html","<div style=\'position:relative; margin-top: 50px\' class=\"contents versioned\" ng-class=\'{\"current\": version.version == story.version}\'>\n  <div ng-if=\"version.version == story.version\">This is the current displayed version.</div>\n  <div class=\'log-version\' ng-repeat=\'tag in version.logs\'>\n    <span class=\'tag-version\' >{{tag.tag}}</span>\n    <span class=\'date\'> {{tag.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</span> &mdash;<span class=\'message\'> <span ng-if=\'user.username != tag.username\'><b class=\'username\'>{{tag.username}}</b>  &mdash;</span> \"{{tag.message}}\"</span>\n  </div>\n  <div class=\'actions\'>\n    <div class=\'btn-line-group red transparent\'>\n      <button class=\'btn-line mini\' ui-sref=\'writing.compare.diff({storyId: story.slug, tag: version.version})\' ng-class=\'{active: state==\"writing.compare.diff\"}\'><span translate=\'diff\'></span></button>\n      <button class=\'btn-line mini\' ng-class=\'{active: state==\"writing.compare\"}\' ui-sref=\'writing.compare({storyId: story.slug, tag: version.version})\'><span translate=\'source\' ></span></button>\n      <button class=\'btn-line mini\' ui-sref=\'writing.compare.preview({storyId: story.slug, tag: version.version})\' ng-class=\'{active: state==\"writing.compare.preview\"}\'><span translate=\'preview\' ></span></button>\n    </div>\n  </div>\n  <div class=\'ui-view\'>\n    <div codediff raw=\'version.contents\'></div>\n    <!-- <div class=\'ready\' id=\'versioned-contents\' markdownit=\'version.contents\' watchlanguage=\'true\' language=\'language\'></div>\n    <div rangy container=\'versioned-contents\' highlights=\'story.highlights\' commented=\'commented(error, comment)\' target=\'story\' actor=\'user\' onCommentsSelected=\'commentsSelected(uids)\'></div> -->\n  </div>\n</div>\n");
$templateCache.put("/static/templates/writings.compare.preview.html","<div class=\'ready\' id=\'versioned-contents\' markdownit=\'version.contents\' watchlanguage=\'true\' language=\'language\'></div>\n    <div rangy container=\'versioned-contents\' highlights=\'story.highlights\' commented=\'commented(error, comment)\' target=\'story\' actor=\'user\' onCommentsSelected=\'commentsSelected(uids)\'></div>");
$templateCache.put("/static/templates/writings.html","<div class=\'container tight-container\'>\n<div class=\'view\'>\n\n<!-- <span class=\'btn-line-group\'><button class=\'btn-line active\' ng-click=\'save()\'>{{isSaving? \"saving...\":\"save\"}}</button></span> -->\n\n\n<div class=\"row\">\n  <div class=\'col-sm-8\'>\n    <label>\n      <span translate=\"field.label.author\"></span>\n    </label>\n    <tags-input class=\'tags-input\' on-tag-added=\'attachAuthor($tag)\' on-tag-removed=\'detachAuthor($tag)\' key-property=\'id\' display-property=\'fullname\' placeholder=\'Add an author\' ng-model=\"story.authors\" template=\'{{\"templates/partials/author.input.html\"|prefixTemplate}}\'>\n      <auto-complete source=\"suggestAuthors($query)\" template=\'{{\"templates/partials/author.autocomplete.html\"|prefixTemplate}}\'></auto-complete>\n    </tags-input>\n\n    <label>\n      <span translate=\"field.label.title\"></span>\n    </label>\n    <textarea id=\'draft-title\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'title\'   type=\'text\' placeholder=\'Untitled\'></textarea>\n    <label></label>\n    <label>\n      <span translate=\"field.label.abstract\"></span>\n    </label>\n    <textarea id=\'draft-abstract\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'abstract\' type=\'text\' placeholder=\'abstract\'></textarea>\n\n    <div ng-repeat=\'tagField in tagFields|filter:{relevance:\"primary\"}\' ng-include=\'\"templates/partials/tags.input.html\"|prefixTemplate\'></div>\n\n  </div>\n  <div class=\'col-sm-4\'>\n\n    <div class=\'cover-preview-wrapper\'>\n      <label translate=\"field.label.cover\"></label>\n      <div class=\"cover-preview\" ng-repeat=\"document in story.covers\">\n        <div ng-if=\'document.data\'>\n          <div lazy-img=\'{{document|coverage}}\' class=\'lazy-box\'></div>\n\n          <div class=\'tile\'>\n            <div class=\'title\' embedit=\'document.data.title\' language=\'language\'></div>\n            <div class=\'copyright\' embedit=\'document.data.copyright\'></div>\n            <div class=\'btn-line-group transparent\'>\n              <button class=\'btn-line\' ng-disabled=\'!story.covers.length\' ng-click=\'\n              removeCover(document)\' translate=\"button.removecover\"></button>\n            </div>\n          </div>\n        </div>\n\n      </div>\n      <div class=\"center\">\n        <div class=\'btn-line-group\' style=\'width: 100%\'>\n          <button   class=\'btn-line\' ng-click=\'\n            openCoversModal()\' translate=\"button.choosecover\"></button>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if=\'user.is_staff\'>\n      <!-- doi -->\n      <label>\n        <span translate=\"field.label.doi\"></span>\n      </label>\n      <div>\n      <span>{{story.data.doi}}</span>\n        <div class=\'btn-line-group transparent\'><button class=\'btn-line\' ng-click=\'openSaveDoiModal()\' translate=\'button.createorupdate\' translate-values=\'{create: !story.data.doi}\'></button></div>\n      </div>\n      <!-- citation -->\n      <label>\n        <span translate=\"field.label.issue\"></span>\n      </label>\n      <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'story.data.issue\' type=\'text\' placeholder=\'issue n.\'></textarea>\n\n\n      <!-- citation -->\n      <label>\n        <span translate=\"field.label.reference\"></span>\n      </label>\n      <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'story.data.reference\' type=\'text\' placeholder=\'reference\'></textarea>\n\n\n      <!-- <label translate=\"staff.drafts.tags.placeholder\"></label>\n      <tags-input class=\'tags-input\'  on-tag-added=\'attachTag($tag)\' on-tag-removed=\'detachTag($tag)\' key-property=\'id\' display-property=\'name\' ng-model=\"displayedTags\" add-from-autocomplete-only=\"true\">\n          <auto-complete template=\'{{\"templates/partials/tag.autocomplete.html\"|prefixTemplate}}\' source=\"suggestTags($query, {category__in:[\'blog\',\'writing\', \'highlights\', \'publishing\']}, false)\" ></auto-complete>\n      </tags-input> -->\n    </div>\n\n    <!-- tags placeholder  -->\n    <div ng-repeat=\'tagField in tagFields|filter:{relevance:\"secondary\"}\' ng-include=\'\"templates/partials/tags.input.html\"|prefixTemplate\'></div>\n\n  </div>\n</div>\n\n\n<div class=\'actions\'>\n  <!-- <div ng-if=\'metadata.owner.is_staff\' class=\'btn-line-group\'> -->\n\n  <div class=\'btn-line-group\' ng-if=\'!isDraft && id\'>\n    <button ng-if=\'!collection\' class=\'btn-line\' ui-sref=\"story({postId: story.slug})\" translate=\"button.viewmode\"></button>\n    <button ng-if=\'collection\' class=\'btn-line\' ui-sref=\"story.story({postId: collection, chapterId: story.slug})\" translate=\"button.viewmode\"></button>\n  </div>\n\n  <div class=\'btn-line-group primary\'>\n    <button ng-if=\'!isDraft\' ng-click=\'save()\' class=\'btn-line\'><span ng-if=\'!isSaving\' translate=\"button.save\"></span><span ng-if=\'isSaving\' translate=\"button.issaving\"></span></button>\n    <button ng-if=\'isDraft\' ng-click=\'save()\' class=\'btn-line\'><span translate=\"button.create\"></span></button>\n\n\n\n  </div>\n  <!-- </div> -->\n\n</div>\n\n\n\n<!-- <div class=\'authors\' ng-if=\'!isDraft\'>\nby <a href>{{metadata.owner.username}}</a>\n</div>\n<div class=\'authors\' ng-if=\'isDraft\'>\n  <div ng-if=\'user.username\'>\n    by <a href>{{user.username}}</a>\n  </div>\n  <div ng-if=\'!user.username\'>\n    by <a href>anonymous</a>\n  </div>\n</div> -->\n\n<!-- <div ng-if=\'!isDraft\'>\n  <form class=\"form-inline\">\n    <div class=\"form-group\">\n      <label translate=\'date\'></label>\n      <input type=\"text\" class=\"form-control\" ng-model=\"date\" name=\"date\" data-max-date=\"today\" timezone=\'UTC\' bs-datepicker data-autoclose=\"1\">{{date}}\n    </div>\n  </form>\n</div> -->\n\n</div>\n</div>\n\n<div class=\'fluid-container\' style=\'padding: 0 50px 50px 100px; background: #efefef; overflow: hidden; position: relative\'>\n  <div class=\'toolbox\' sticky offset=\'70\'>\n\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"strong\") != -1?\"active\": \"\"}}\' ng-click=\'toolboxing(\"toggleBold\")\'>B</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"em\") != -1?\"active\": \"\"}}\' style=\'font-style:italic\' ng-click=\'toolboxing(\"toggleItalic\")\'>I</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"header-1\") != -1?\"active\": \"\"}}\' ng-click=\'toolboxing(\"toggleHeading1\")\'>H1</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"header-2\") != -1?\"active\": \"\"}}\' ng-click=\'toolboxing(\"toggleHeading2\")\'>H2</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"header-3\") != -1?\"active\": \"\"}}\' ng-click=\'toolboxing(\"toggleHeading3\")\'>H3</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"quote\") != -1?\"active\": \"\"}}\' ng-click=\'toolboxing(\"toggleBlockquote\")\'>Q</button>\n      &nbsp;&nbsp;\n      <div class=\'btn-line-group  transparent\'>\n        <button class=\'btn-line\' ng-click=\'save()\'><span translate=\'button.save\'></span> <span class=\'icon icon-disc\'></span></button>\n        <button ng-click=\'openSaveVersionModal()\' class=\'btn-line\'><span translate=\"button.saveversion\"></span> <span class=\'icon icon-pin\'></span></button>\n      </div>\n\n\n      <div class=\'float-right btn-line-group dropdown\'>\n\n        <button class=\'btn-line\' ng-class=\'{\"active\": state==\"writing\"}\' ui-sref=\'writing({postId:story.slug})\'><span translate=\'button.wmodenormal\'></span></button>\n        <button class=\'btn-line\' ng-class=\'{\"active\": state==\"writing.live\"}\' ui-sref=\'writing.live({postId:story.slug})\'><span translate=\'button.wmodepreview\'></span></button>\n        <button class=\'btn-line dropdown\' ng-class=\'{\"active\": state==\"writing.compare\" || state==\"writing.compare.diff\"}\' ng-click=\'loadVersions()\' bs-dropdown placement=\'bottom-right\' aria-haspopup=\"true\" aria-expanded=\"false\" ><span translate=\'button.wmodecompare\'></span> <span class=\'icon icon-list\'></span></button>\n        <ul class=\"dropdown-menu\" role=\"menu\">\n          <!-- <li>\n            {{story.version}}\n          </li> -->\n          <li class=\'version\' ng-repeat=\'version in versions\'>\n            <div ng-repeat=\'tag in version.tags\'>\n              <a class=\'tag-version\' ui-sref=\'writing.compare({postId:story.slug, tag:version.hexsha})\'>{{tag.tag}}</a>\n              <span class=\'date\'>{{tag.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</span>\n              <div>\n                <blockquote><span class=\'username\'>{{tag.username}}</span> &mdash; {{tag.message}}</blockquote>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n\n      <span class=\'float-right label\'>writing mode:</span>\n\n      <!-- <button style=\'width:70px\' class=\'sans-serif btn {{isPreviewEnabled? \"active\": \"\"}}\' ng-click=\'action(\"togglePreview\")\'>preview</button>\n\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"link\") != -1|| activeStates.indexOf(\"url\") != -1? \"active\": \"\"}}\' ng-click=\'showReferenceModal()\'><span class=\'icon-plus\'></span></button> -->\n      <!-- {{activeStates}} -->\n\n  </div>\n  <!-- end of toolbox -->\n\n  <div class=\'row\'>\n    <!-- <a ui-sref=\"writing.compare({storyId: story.slug, tag:\'lof\'})\">ooooooooo</a> -->\n\n    <div ng-class=\'{\"col-xs-6\": state !=\"writing\", \"col-xs-12\":state ==\"writing\"}\' id=\"draft-contents\">\n\n      <div class=\'contents\' style=\'margin-top: 50px; min-height: 50px; position:relative\'>\n          <!-- <medium-editor ng-model=\'contents\' bind-options=\"mediumOptions\"></medium-editor> -->\n          <div class=\'log-version\' ng-if=\'story.logs.length\' ng-repeat=\'tag in story.logs\'>\n            <span class=\'tag-version\' >{{tag.tag}}</span>\n            <span class=\'date\'> {{tag.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</span> &mdash; {{tag.message}}\n          </div>\n\n          <div class=\'log-version\' ng-if=\'!story.logs.length\'>\n            <span class=\'tag-version\' >{{story.version}}</span>\n            <span class=\'date\'> {{story.date_last_modified|date:\"yyyy\'.\'MM\'.\'dd\"}}</span>\n          </div>\n          <div mde=\'contents\' style=\'margin-top:1px\' language=\'language\' setdocs=\'setDocuments(documents)\' setmarked=\'setMarked(marked)\' settoc=\'setToC(items)\'></div>\n\n      </div>\n    </div>\n    <div ui-view ng-class=\'{\"col-xs-6\": state !=\"writing\", \"col-xs-12\":state ==\"writing\"}\'><!-- \'nothing here babe\' {{state}} --></div>\n    <!-- <div class=\'col-md-4 col-lg-5 col-xs-4\' respect-previous-sibling update=\"sideItems\">\n      <div sliding-steps data-language=\'language\' data-focus=\'focusedIdx\' style=\'height:100%\' items=\'sideItems\'></div>\n    </div> -->\n    <!-- <div class=\'col-xs-6\' style=\'padding-left:0\'>\n      <div class=\'contents\' id=\'contents\' markdownit=\'marked\' watchmarkdownit=\'true\' watchlanguage=\'true\' language=\'language\' listener=\'listener(event, data, callback)\'></div>\n      <div rangy container=\'contents\' highlights=\'story.highlights\' commented=\'commented(error, comment)\' target=\'story\' actor=\'user\' onCommentsSelected=\'commentsSelected(uids)\'></div>\n    </div> -->\n  </div>\n</div>\n\n\n\n");
$templateCache.put("/static/templates/writings.live.html","<div style=\'position:relative; margin-top: 50px\' class=\"contents versioned\">\n  <div class=\'log-version current\'>\n    <span class=\'tag-version\'><span translate=\"preview\"></span></span>\n    <span class=\'date\'>{{story.date_last_modified|date:\"yyyy\'.\'MM\'.\'dd\"}} ({{story.version}})</span>\n  </div>\n  <div class=\'ready\' id=\'versioned-contents\' markdownit=\'marked\'  watchmarkdownit=\'true\' watchlanguage=\'true\' language=\'language\'></div>\n</div>\n");
$templateCache.put("/static/templates/partials/action.html","<div class=\"stream-item\">\n  <span class=\'date\'>{{action.timesince}}</span>\n  <span class=\'username\'>{{action.actor.username}}</span>\n  <span translate=\'verb.{{action.verb}}\'></span>\n  <a ng-if=\"action.target_content_type == \'story\'\" ui-sref=\'story({postId: action.target.slug})\'>{{action.target.title}}</a>\n  <a ng-if=\"action.target_content_type == \'document\'\">document: {{action.target.title}}</a>\n  <div class=\'comment serif\' ng-if=\'action.verb==\"commented\"\' ng-click=\'rangyHighlight(action.info.comment.short_url)\' rangy-highlight=\'{{action.info.comment.short_url}}\'>\n    <span class=\'quote\' ng-if=\'action.info.comment.contents.quote\' max-words=\'4\' commenter-quote=\'action.info.comment.contents.quote\'></span>\n    <div max-words=\'5\' commenter-quote=\'action.info.comment.contents.content\'></div>\n  </div>\n\n</div>\n");
$templateCache.put("/static/templates/partials/author.autocomplete.html","<div class=\"item selectable sans-serif\" title=\'{{data.fullname}} - {{data.affiliation}}\'>\n  <span rewording value=\'data.data.fullname\' default=\'{{data.fullname}}\' highlight=\'$highlight(text)\'></span>\n  <br/>\n  <span class=\'description\'>{{data.affiliation}}</span>\n  <!-- <span ng-bind-html=\"$highlight($getDisplayText())\"></span> -->\n</div>");
$templateCache.put("/static/templates/partials/author.html","<a class=\'author\' ui-sref=\'author.publications.all({slug:author.slug})\'>{{author.fullname}}</a>{{$last? \'\':\', \'}}");
$templateCache.put("/static/templates/partials/author.input.html","<span>\n  <span>{{data.fullname}}</span>\n  <span ng-if=\'data.affiliation.length > 0\'>&mdash;\n    <span class=\'type\'>{{data.affiliation|tokenize:4}}</span>\n  </span>\n  <a class=\"remove-button\" ng-click=\"$removeTag()\" ><span class=\'icon-close\'></span></a>\n</span>");
$templateCache.put("/static/templates/partials/author.item.html","<div class=\'item stream-item\'>\n <a class=\'author\' ui-sref=\'author.publications.all({slug:author.slug})\'>{{author.fullname}}</a>\n <div class=\'affiliation sans-serif\'>{{author.affiliation}}</div>\n \n <blockquote class=\'reduced\'><span embedit=\'author.data.biography || \"...\"\' excerpt=\'true\'></span> <a ui-sref=\'author.publications.all({slug:author.slug})\'><span class=\"icon-arrow-right-circle\"></span></a></blockquote>\n</div>");
$templateCache.put("/static/templates/partials/breakingNews.html","<div class=\"wrapper\" style=\'    background-size: cover; background-image: url({{news.cover_url}})\'>\n  <div class=\'overlay\'>\n    <div class=\"type\">\n      <span ng-repeat=\'tag in news.tags | filter:{ category: \"writing\" }\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n    </div>\n    <h3><a ng-if=\'!news.isCollection\' ui-sref=\"story({postId: news.slug})\" rewording value=\'news.data.title\' default=\'{{news.title}}\'></a><a ng-if=\'news.isCollection\' ui-sref=\"collection({collectionId: news.slug})\" rewording value=\'news.data.title\' default=\'{{news.title}}\'></a></h3>  \n  </div>\n</div>");
$templateCache.put("/static/templates/partials/collection.html","<!-- <div ng-if=\'!$first\' class=\"divider\"></div> -->\n<div class=\"story collection lite\">\n  \n  <div class=\"row\">\n    <div class=\"col-md-4\" ng-if=\'story.covers.length\'>\n      <div  ng-repeat=\'document in story.covers\' class=\'fluid-container relative\'>\n        <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n        <div class=\'embedded-metadata\' ng-include=\'\"templates/partials/document.metadata.embedded.html\"|prefixTemplate\'></div>\n      </div>\n    </div>\n\n    <div ng-class=\'story.covers.length?\"col-md-8\": \"col-md-12\"\'>\n      <div class=\"divider\"></div>\n  \n      <div class=\"tags\" ng-if=\"story.tags.length\">\n        <span class=\'tag\' ng-repeat=\'tag in story.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n      </div>\n      <!-- <div class=\"date\">{{story.date_created|date:\'mediumDate\'}}</div> -->\n      \n      <h3 class=\"title\"><a ui-sref=\"story({postId: story.slug})\"><span rewording value=\'story.data.title\' default=\'{{story.title}}\'></span> {{story.status != \'public\'? \'(DRAFT)\': \'\'}}</a></h3>  \n      \n      <div class=\'authors\' ng-if=\"story.authors.length\">\n        <span translate=\'by\'></span> <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n      </div>\n      <blockquote ng-if=\'story.excerpt\' class=\"reduced\"><span ng-bind-html=\'story.excerpt\'></span>\n        <a href ui-sref=\"story({postId: story.slug})\">\n          <span class=\'icon-arrow-right-circle\'></span>\n        </a>\n        <p>\n          <em ng-if=\"story.difference\">{{story.difference}}</em>\n        </p>\n      </blockquote>\n      \n      <blockquote ng-if=\'!story.excerpt\' rewording value=\'story.data.abstract\' markdown=\'inline\' default=\'{{story.abstract}}\'></blockquote>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/comment.html","<div class=\'step comment\' ng-click=\'comment.unread = false\' ng-class=\'{\"owned\": user.username == comment.owner.username, \"unread animated pulse\": comment.unread}\'>\n  <div class=\'status float-right\'><span translate=\'comment.status.{{comment.status}}\'></span><div><a ng-href=\'/admin/miller/comment/{{comment.pk}}/change/\' target=\'_blank\'>edit (admin)</a></div>\n  </div>\n  <div class=\'username\'>{{comment.owner.username}}</div>\n  <div class=\'date\'>{{comment.date_created|date:\"yyyy\'.\'MM\'.\'dd hh:mm\"}}</div>\n  <div ng-if=\'!quote\' class=\'quote\' rangy-highlight=\'{{comment.short_url}}\'>\n    <span  commenter-quote=\'comment.contents.quote\'></span>\n  </div>\n  <div class=\'contents\' embedit=\'comment.contents.content\' markdown=\'inline\'></div>\n  <div ng-if=\'user.username == comment.owner.username\' class=\'actions\'>\n    <div class=\'btn-line-group primary transparent\'>\n      <button  class=\'btn-line\' ng-click=\'removeComment(comment)\' ng-disabled=\'isLoading\'><span translate=\'button.comment.remove\' translate-values=\'isLoading\'></span> <span class=\'icon icon-bin\'></span></button>\n    </div>\n  </div>\n</div>    ");
$templateCache.put("/static/templates/partials/coverstory.html","<div class=\"coverstory story lite\">\n  \n    <div class=\'col-xs-6 col-sm-4\'>\n      <div ng-if=\'coverstory.covers.length\' ng-repeat=\'document in coverstory.covers\' class=\'cover-wrapper row\'>\n      <div class=\'cover-oembed\' rich-oembed fullscreen=\'fullsize(document.slug)\' autoplay=\'true\' oembed=\'document.data\' media=\'document\' immediate quality=\"hifi\"></div>\n        <!-- <div class=\'cover\' style=\'background-size: cover; height:300px; background-image:url({{coverstory.cover}})\' ></div> -->\n      </div>\n    </div>\n    <div class=\'col-xs-6 col-sm-8\'>\n      <div class=\"tags\" ng-if=\"coverstory.tags.length\">\n        <span class=\"tag\" ng-repeat=\'tag in coverstory.tags|filter:{ category: \"writing\" }\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n      </div>\n      <div class=\"issue\" embedit=\'coverstory.data.issue\' ng-click=\'next()\'></div>\n       \n      <h3>\n        <a ng-if=\'!story.is_collection\' href ui-sref=\"story({postId: coverstory.slug})\" embedit=\'coverstory.data.title\' language=\'language\'></a>\n        <a ng-if=\'story.is_collection\' href ui-sref=\"collection({collectionId: coverstory.slug})\" embedit=\'coverstory.data.title\' language=\'language\'></a>\n      </h3>\n      <div class=\'authors\' ng-if=\"coverstory.authors.length\">\n        by <span ng-repeat=\'author in coverstory.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n      </div>\n      <blockquote>\n        <span embedit=\'coverstory.excerpt\' language=\'language\'></span>\n        <a ng-if=\'!coverstory.is_collection\' href ui-sref=\"story({postId: coverstory.slug})\"><span class=\'icon-arrow-right-circle\'></span></a>\n        <a ng-if=\'coverstory.is_collection\' href ui-sref=\"collection({collectionId: coverstory.slug})\"><span class=\'icon-arrow-right-circle\'></span></a>\n      </blockquote>\n    </div>\n    \n    <div style=\'clear:both\'></div>\n</div>");
$templateCache.put("/static/templates/partials/crossref.html","<div ng-class=\'{\"active\": selectedDocument.doi == item.doi}\' class=\'doc crossref oembedded\' ng-click=\'selectDocument(item)\'>\n  <div class=\'wrapper\'>\n    <div class=\'lazy-box\'></div>\n    <div class=\'tile\'>\n      <div class=\'title\' embedit=\'item.fullCitation\'></div>\n      <div class=\'copyright\'>\n        <a ng-href=\'{{item.doi}}\' target=\'_blank\'>{{item.doi}}</a>\n      </div>\n    </div>\n  </div>\n  <div class=\'excerpt\'><span ng-if=\'item.year\'><span class=\'type\'>{{item.year}}</span> &mdash; </span> <span embedit=\'item.title\'></span></div>\n</div>");
$templateCache.put("/static/templates/partials/document.html","<div class=\'doc doc-{{document.type}} {{document.isSelected?\"active\":\"\"}} orientation-{{document.data.layout.orientation||\"landscape\"}} caption-align-{{document.data.layout.caption_align||\"center\"}} size-{{document.data.layout.size||\"cover\"}}\' ng-click=\'selectDocument(document)\'>\n  <div class=\'switch\' ng-if=\'document.type==\"image\" || document.type==\"rich\" || document.type==\"video\" || document.type==\"photo\"\' rich-oembed fullscreen=\'fullsize(document.slug)\' oembed=\'document.data\' media=\'document\' quality=\'{{quality}}\'></div>\n\n  <div class=\'switch timeline\' ng-if=\'document.type==\"timeline\"\' stretch=\'true\' embedit=\'document.data.html\'></div>\n\n  <div class=\'switch\' ng-if=\'document.type==\"picture\"\' style=\'height: 400px; width:100%; background-position: center; background-color: #151515; background-size:contain; background-repeat: no-repeat;\' lazy-img=\'{{document.src}}\'></div>\n\n  <div ng-if=\'document.data\' ng-include=\'\"templates/partials/document.metadata.html\"|prefixTemplate\'></div>\n\n      <!-- this element has fixed height. -->\n      <div ng-if=\'document.type==\"video-cover\"\'>\n        <div class=\'caption reference\' markdown=\'document.data.reference.fr\'></div>\n        <div class=\'copyright\'>{{document.copyrights}}</div>\n      </div>\n\n      <div ng-if=\'document.type==\"pdf\"\' lazy-image src=\'document.snapshot\'></div>\n    \n      <blockquote ng-if=\'document.citation\' markdown=\'document.citation\'></blockquote>\n      \n      <div ng-if=\'!document.data\'>\n        <div ng-if=\'document.title\' class=\'title\'>{{document.title}}</div>\n        <div ng-if=\'document.caption\' class=\'caption\'>{{document.caption}}</div>\n        <div ng-if=\'document.copyrights\' class=\'copyright\'>{{document.copyrights}}</div>\n      </div>\n\n      <div ng-if=\'document.type==\"bibtex\"\'>\n        <div class=\'caption\'>\n          <span ng-if=\'document.data.author\'>{{document.data.author|bibtex}},</span>\n          <span ng-if=\'document.data.editor\'>{{document.data.editor|bibtex}}</span>(edited by)</span> \n          \n          <em>{{document.data.title|bibtex}}</em>\n          <span>{{document.data.publisher|bibtex}}</span>\n          <span ng-if=\'document.data.year\'>, <span>{{document.data.year|bibtex}}</span> \n        </div>\n      </div>\n\n      <div ng-if=\'document.type!=\"bibtex\" && document.data.title\'>\n        <div class=\'caption\' markdown=\'document.data.title\'></div>\n        <div ng-if=\'document.data.reference\' class=\'caption reference\' markdown=\'document.data.reference\'></div>\n        <div ng-if=\'document.data.copyright\' class=\'copyright\' markdown=\'document.data.copyright\'></div>\n        <div ng-if=\'document.data.author_name\' class=\'copyright\'>\n          <a ng-href=\'{{document.data.author_url}}\' target=\'_blank\' markdown=\'document.data.author_name\'></a>\n        </div>\n      </div>\n\n    </div>");
$templateCache.put("/static/templates/partials/document.metadata.embedded.html","<span class=\'oneline\'><em ng-if=\'document.data.title\' embedit=\'document.data.title\' language=\'language\' firstline=\'true\'></em>\n<em ng-if=\'!document.data.title && document.title\' embedit=\'document.title\' language=\'language\' firstline=\'true\'></em>\n\n<span ng-if=\'document.data.author_name\'>\n  <span translate=\'by\'></span>\n  <a ng-href=\'{{document.data.author_url}}\' target=\'_blank\'>{{document.data.author_name}}</a>\n</span>\n</span>");
$templateCache.put("/static/templates/partials/document.metadata.html","<div class=\'metadata {{document.type}}\'>\n  <div ng-if=\'!document.data.details.title\'>\n    <button class=\'btn btn-line\' ng-if=\'document._type == \"doc\"||document._type == \"voc\"\' ng-click=\'alignTo(document._index, $event)\'>\n      <span class=\'icon icon-type-{{document.type||document._type}}\'></span><span class=\'type {{document.type}}\'></span>\n    </button>\n    <span ng-if=\'document.type!=\"link\" && document.type!=\"crossref\"\' class=\'title\' embedit=\'document.data.title\' language=\'language\'></span>\n\n    <span ng-if=\'document.type==\"crossref\"\'>\n      <span embedit=\'document.data.fullCitation\' markdown=\'inline\'></span> &mdash; <a ng-href=\'{{document.data.doi}}\'>{{document.data.doi|smartUrl}}</a>\n    </span>\n\n    <a ng-if=\'document.type==\"link\"\' target=\'_blank\' ng-href=\'{{document.data.url}}\'><span class=\'title\' embedit=\'document.data.title\' language=\'language\'></span></a>\n    <a ng-if=\'document.type==\"entity\" && document.data.wiki_id\' target=\'_blank\' ng-href=\'https://dbpedia.org/page/{{document.data.wiki_id}}\'><span class=\'title\'><span translate=\'cfr\'></span> dbpedia</a>\n    \n    <div ng-if=\'document.data.abstract\'  class=\'abstract\'>\n      <span embedit=\'document.data.abstract\' language=\'language\'></span>\n      \n    </div>\n    <div>\n      <div ng-if=\'document.data.type==\"link\" && document.data.thumbnail_url\' class=\'snapshot\' lazy-img=\'{{document.data.thumbnail_url}}\'></div>\n      \n      <div ng-if=\'document.data.caption\' class=\'caption\' embedit=\'document.data.caption\' language=\'language\'></div>\n      <div ng-if=\'!document.data.caption && document.data.description\' class=\'caption\' embedit=\'document.data.description\' language=\'language\'></div>\n    </div>\n    <div style=\'clear:both\' ng-if=\'document.data.copyright\' embedit=\'document.data.copyright\' language=\'language\' firstline=\'true\'></div>\n  </div>\n  \n  <!-- having details -->\n  <div ng-if=\'document.data.details.title\'>\n    <button class=\'btn btn-line\' ng-if=\'document._type == \"doc\"||document._type == \"voc\"\' ng-click=\'alignTo(document._index, $event)\'>\n      <span class=\'icon icon-type-{{document.type||document._type}}\'></span>\n    </button>\n    <span class=\'title\' embedit=\'document.data.details.title || document.data.title\' language=\'language\'></span>\n    <div class=\'caption\' embedit=\'document.data.details.caption\' language=\'language\'></div>\n    <div class=\'copyright\' ng-if=\'document.data.details.copyright\' embedit=\'document.data.details.copyright\' language=\'language\' firstline=\'true\'></div>\n  </div>\n\n   \n  <!-- author part -->\n  <div>\n    <span ng-if=\'document.data.author_name\'>\n      <span translate=\'author\'></span>\n      <a ng-href=\'{{document.data.author_url}}\' target=\'_blank\'>{{document.data.author_name}}</a>\n    </span>\n    <span ng-if=\'document.data.provider_name\'>\n      <span translate=\'source\'></span>:\n      <a ng-href=\'{{document.data.provider_url}}\' target=\'_blank\'>{{document.data.provider_name}}</a>\n    </span>\n  </div>\n  \n  <a ng-if=\'user.is_staff\' target=\'_blank\' ng-href=\'/admin/miller/document/{{document.document_id || document.id}}/change/\'>modify (admin)</a>\n  <!-- <button ng-if=\'document.type != \"link\"\' ng-click=\'fullsize(document.slug, document._type )\' >preview</button> -->\n  \n</div>");
$templateCache.put("/static/templates/partials/document.metadata.linear.html","<div class=\'metadata {{document.type}}\'>\n  <em ng-if=\'document.data.title\' embedit=\'document.data.title\' language=\'language\' firstline=\'true\'></em>\n  <em ng-if=\'!document.data.title && document.title\' embedit=\'document.title\' language=\'language\' firstline=\'true\'></em>\n\n  <span ng-if=\'document.data.author_name\'>\n    <span translate=\'by\'></span>\n    <a ng-href=\'{{document.data.author_url}}\' target=\'_blank\'>{{document.data.author_name}}</a>\n  </span>\n  <span ng-if=\'document.data.provider_name\'>\n    (<span translate=\'source\'></span>:\n    <a ng-href=\'{{document.data.url || document.data.provider_url}}\' target=\'_blank\'>{{document.data.provider_name}}</a>)\n  </span>\n\n<span ng-if=\'document.data.copyright\' embedit=\'document.data.copyright\' language=\'language\' firstline=\'true\'></span>\n<span ng-if=\'user.is_staff\' >&mdash; <a target=\'_blank\' ng-href=\'/admin/miller/document/{{document.document_id || document.id}}/change/\'>modify (admin)</a></span>\n</div>");
$templateCache.put("/static/templates/partials/hold.html","<div>\n  <span embedit=\'resource.metadata.title\' language=\'language\'></span>\n  <span ng-if=\'resource.metadata.abstract\' embedit=\'resource.metadata.abstract\' language=\'language\'></span>\n  <span ng-if=\'resource.metadata.description\' embedit=\'resource.metadata.description\' language=\'language\'></span>\n</div>");
$templateCache.put("/static/templates/partials/loader.html","<div class=\"loader\" ng-class=\'{\"active\":isLoading}\'>\n  <div class=\"dot\"></div>\n  <div class=\"dot\"></div>\n  <div class=\"dot\"></div>\n</div>");
$templateCache.put("/static/templates/partials/more.html","<div class=\'more-wrapper\'>\n  <div ng-if=\'tab.items.length > 0 && tab.items.length < tab.count\' class=\"btn-line-group primary\">\n    <button class=\'btn-line\' ng-click=\'more()\'>\n      <span ng-if=\'!tab.isLoadingNextItems\'>\n        <span translate=\'button.more\'></span>\n        <span translate=\'missing\' translate-values=\"{count: tab.missing}\"></span>\n      </span>\n      <span ng-if=\'tab.isLoadingNextItems\' translate=\'button.loading\'></span>\n    </button>\n  </div>\n  <!-- when count equals item length, we are at the end -->\n</div>");
$templateCache.put("/static/templates/partials/oembed-search-results.html","<div class=\'oembedded doc doc-{{document.type}}\' ng-class=\'{\"active\": document.url == selectedDocument.url}\' ng-click=\'selectDocument(document)\'>\n\n  <!-- <div class=\'divider\'>&nbsp;</div> -->\n  \n  <div class=\'wrapper\'>\n    <div ng-if=\'document.urls.Preview\' lazy-image src=\'document.urls.Preview\'></div>\n    <div class=\'tile\'>\n      <div class=\'title\' embedit=\'document.data.title\' languagle=\'language\'></div>\n      <div class=\'copyright\' embedit=\'document.copyright\'></div>\n    </div>\n  </div>\n  <div class=\'excerpt\' embedit=\'document.title\'></div>\n</div>");
$templateCache.put("/static/templates/partials/pulsations.html","<div class=\"popover\" tabindex=\"-1\">\n  <div class=\"arrow\"></div>\n  <h3 class=\"popover-title\">\n    <span  ng-bind=\"title\" ng-show=\"title\"></span>\n    <div class=\'btn-line-group primary transparent float-right\'>\n      <button class=\'btn-line \' translate=\'button.clearlist\' ng-click=\'resetPulsations()\'></button>\n    </div>\n  </h3>\n  <div ng-include=\'\"templates/partials/loader.html\"|prefixTemplate\'></div>\n  <div class=\'stream-items\'>\n    <div ng-repeat=\'action in pulsations\' ng-include=\'\"templates/partials/action.html\"|prefixTemplate\'></div>\n  </div>\n  <div class=\'center\' style=\'padding-bottom: 5px;\'>\n    <div class=\'btn-line-group primary transparent\'>\n      <button class=\'btn-line \' ui-sref=\'notifications.activities\' translate=\'button.more.notification\'></button>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/report.html","<div class=\"review stream {{review.status}}\">\n  <div class=\"row\">\n    <div class=\'col-xs-4 col-sm-4 col-md-3\'>\n      <table class=\"table\">\n        <tr>\n          <th><span>type</span></th>\n          <td><span>{{review.category}}</span></td>\n        </tr>\n        <tr>\n          <th><span>status</span></th>\n          <td><span class=\'status\'>{{review.status}}</span></td>\n        </tr>\n        <tr>\n          <th><span>score</span></th>\n          <td><span>{{review.score}}</span></td>\n        </tr>\n      </table>\n    </div>\n    <div class=\'col-xs-8 col-sm-6 col-md-5\'>\n      <div class=\'reviewed\'>\n        <div class=\"date\">{{review.story.date|date:\'mediumDate\'}}</div>\n\n        <h2 class=\"title\">\n          <a ui-sref=\"story({postId: review.story.slug})\"><span embedit=\'review.story.metadata.title\' language=\'language\'></span></a>\n        </h2>  \n      \n        <blockquote ng-if=\'review.story.metadata.abstract\' embedit=\'review.story.metadata.abstract\' language=\'language\'></blockquote>\n      </div>\n    </div>\n\n    <div class=\'col-sm-2 col-md-4\'>\n      <div class=\'center\'  style=\'    margin-top: 35px;\'>\n        <div class=\'btn-line-group primary\'>\n          <button class=\'btn-line\' ui-sref=\'report({id: review.id})\' translate=\'button.viewreport\'></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/review.html","<div class=\"review {{review.status}}\">\n  <div class=\"row\">\n    <div class=\'col-xs-4 col-md-3\'>\n      <table class=\"table\">\n        <tr>\n          <th><span>type</span></th>\n          <td><span>{{review.category}}</span></td>\n        </tr>\n        <tr>\n          <th><span>status</span></th>\n          <td><span class=\'status\'>{{review.status}}</span></td>\n        </tr>\n        <tr>\n          <th><span>due date</span></th>\n          <td><span>{{review.due_date|date:\'mediumDate\'}}</span></td>\n        </tr>\n        <tr ng-if=\'review.category != \"editing\"\'>\n          <th><span>score</span></th>\n          <td><span>{{review.score}}</span></td>\n        </tr>\n      </table>\n    </div>\n    <div class=\'col-xs-8 col-md-9\'>\n      <div class=\'reviewed\'>\n        <div class=\"date\">{{review.story.date|date:\'mediumDate\'}}</div>\n\n        <h2 class=\"title\">\n          <a ui-sref=\"review.story({id: review.id})\"><span embedit=\'review.story.metadata.title\' language=\'language\'></span></a>\n        </h2>  \n      \n        <blockquote ng-if=\'review.story.metadata.abstract\' embedit=\'review.story.metadata.abstract\' language=\'language\'></blockquote>\n      </div>\n      <div>\n\n        <div ng-if=\'review.story.source\' class=\'btn-line-group primary transparent\'>\n          <a class=\'btn-line \' ng-href=\"/api/story/{{story.id}}/download/source\" _target=\"blank\"><span class=\'icon icon-arrow-down-circle\'></span><span translate=\'button.downloadsource\'></span></a>\n        </div>\n        <div class=\'btn-line-group primary transparent\'>\n          <button class=\'btn-line\' ui-sref=\'review.story({id: review.id})\' translate=\'button.viewforreview\'></button>\n        </div>\n        <div ng-if=\'review.status == \"initial\" || review.status == \"draft\"\' class=\'btn-line-group primary\'>\n          <button class=\'btn-line\' ui-sref=\'review({id: review.id})\' translate=\'button.completereview\'></button>\n        </div>\n        \n        <div ng-if=\'review.status != \"initial\" && review.status != \"draft\"\' class=\'btn-line-group primary\'>\n          <button class=\'btn-line\' ui-sref=\'review({id: review.id})\' translate=\'button.viewreport\'></button>\n        </div>\n      </div>\n    </div>\n\n    \n  </div>\n</div>");
$templateCache.put("/static/templates/partials/story.html","<div ng-if=\'!story._isCollection\' class=\"story item\">\n  <div class=\"row\">\n    <div class=\"col-md-4\" ng-if=\'story.covers.length\'>\n      <div  ng-repeat=\'document in story.covers\' class=\'fluid-container relative\'>\n        <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n        <div class=\'embedded-metadata\' ng-include=\'\"templates/partials/document.metadata.embedded.html\"|prefixTemplate\'></div>\n      </div>\n    </div>\n    <div ng-class=\'{\"col-md-12\":!story.covers.length, \"col-md-8\":story.covers.length}\'>\n    <div ng-if=\'!$first\' class=\"divider\"></div>\n    <div class=\"tags\" ng-if=\"story.tags.length && !story.matches\">\n      <span class=\'tag\' ng-repeat=\'tag in story.tags|filter:{status:\"public\",category:\"writing\"}\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n    </div>\n    <div class=\"tags\" ng-if=\"story.tags.length && story.matches\">\n      <span class=\'tag\' ng-click=\'setLocationFilter(\"tags\",tag.slug)\' ng-repeat=\'tag in story.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n    </div>\n    <div ng-if=\'story.data.issue\' class=\"issue\">&mdash; {{story.data.issue}}</div>\n    <div class=\"date\">{{story.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</div>\n\n\n\n\n    <h3 class=\"title\"><a ui-sref=\"story({postId: story.slug})\"><span rewording value=\'story.data.title\' default=\'{{story.title}}\'></span> {{story.status != \'public\'? \'[\'+story.status+\']\': \'\'}}</a></h3>\n    <div class=\'authors\' ng-if=\"story.authors.length\">\n      <span translate=\"written.by\"></span> <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n    </div>\n    <blockquote ng-if=\'story.excerpt\' class=\"reduced\"><span ng-bind-html=\'story.excerpt\'></span>\n      <a href ui-sref=\"story({postId: story.id})\">\n        <span class=\'icon-arrow-right-circle\'></span>\n      </a>\n    </blockquote>\n\n    <blockquote ng-if=\'!story.excerpt && !story.matches\' class=\"reduced\" rewording value=\'story.data.abstract\' default=\'{{story.abstract}}\'></blockquote>\n\n    <blockquote class=\"reduced matches\" ng-if=\"story.matches.highlights\">\n      <div embedit=\'story.matches.highlights\'></div>\n    </blockquote>\n\n    <div ng-if=\"story._tags.keyword.length\" class=\"tags keywords\" ng-if=\"story.tags.length && !story.matches\">\n      <span translate=\"keywords\" class=\'label\'></span> <span class=\'tag\' ng-repeat=\'tag in story._tags.keyword\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n    </div>\n    <p>\n\n      <!-- <span class=\'creator\' ng-if=\"!story.authors.length\">\n        created by <span ng-init=\'author=story.owner;$last=true\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n      </span> -->\n\n      <a ng-if=\'user.is_staff\' target=\'_blank\' ng-href=\'/admin/miller/story/{{story.id}}/change/\'>modify (admin)</a>\n\n    </p>\n    </div>\n  </div>\n</div>\n\n<div ng-if=\'story._isCollection\' ng-include=\'\"templates/partials/collection.html\"|prefixTemplate\'></div>");
$templateCache.put("/static/templates/partials/story.pending.html","<div class=\"story item\">\n  <div class=\"row\">\n    <div class=\"col-md-3\" ng-if=\'story.covers.length\'>\n      <div  ng-repeat=\'document in story.covers\' class=\'fluid-container relative\'>\n        <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n        <div class=\'embedded-metadata\' ng-include=\'\"templates/partials/document.metadata.embedded.html\"|prefixTemplate\'></div>\n      </div>\n    </div>\n    <div ng-class=\'{\"col-md-8\":!story.covers.length, \"col-md-5\":story.covers.length}\'>\n      <div ng-if=\'!$first\' class=\"divider\"></div>\n      <div class=\"tags\">\n        <span class=\'tag\' translate=\'story.status.{{story.status}}\'></span>\n      </div>\n      \n\n      <div class=\"date\">{{story.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</div>\n\n      \n\n\n      <h3 class=\"title\"><a ui-sref=\"story({postId: story.slug})\"><span embedit=\'story.data.title\' language=\'language\'></span> {{story.status != \'public\'? \'[\'+story.status+\']\': \'\'}}</a></h3>  \n      <div class=\'authors\' ng-if=\"story.authors.length\">\n        <span translate=\"written.by\"></span> <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n      </div>\n      <blockquote ng-if=\'story.excerpt\' class=\"reduced\">{{story.excerpt}}.\n        <a href ui-sref=\"story({postId: story.id})\">\n          <span class=\'icon-arrow-right-circle\'></span>\n        </a>\n      </blockquote>\n      \n      <blockquote ng-if=\'!story.excerpt && !story.matches\' class=\"reduced\" embedit=\'story.data.abstract\' language=\'language\'></blockquote>\n\n      <blockquote class=\"reduced matches\" ng-if=\"story.matches.highlights\">\n        <div embedit=\'story.matches.highlights\'></div>  \n      </blockquote>\n\n      <p>\n        \n        <!-- <span class=\'creator\' ng-if=\"!story.authors.length\">\n          created by <span ng-init=\'author=story.owner;$last=true\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n        </span> -->\n        \n        <a ng-if=\'user.is_staff\' target=\'_blank\' ng-href=\'/admin/miller/story/{{story.id}}/change/\'>modify (admin)</a>\n      \n      </p>\n    </div>\n\n    \n  </div>\n\n  <div class=\"row\">\n    <div  class=\'col-xs-12\'>\n      <table class=\'table\'>\n        <tr>\n          <td colspan=\"4\">\n            <div ng-if=\'story.status != \"reviewdone\"\' class=\'btn-line-group primary transparent\'>\n              <button class=\'btn-line \' ng-click=\'addReview(story)\'><span class=\'icon icon-plus\'></span><span translate=\'button.assignforreview\'></span></button>\n            </div>\n            <div ng-if=\'story.status != \"reviewdone\"\' class=\'btn-line-group primary transparent\'>\n              <button class=\'btn-line \' ng-click=\'finalDecision(story)\'><span class=\'icon icon-plus\'></span><span translate=\'button.finaldecision\'></span></button>\n            </div>\n          </td>\n        </tr>\n        <tr ng-repeat=\'review in story.reviews | filter:{ category: \"!closing\"}\' class=\'stream review\' ng-class=\'review.status\'>\n          <td>\n            <div><span class=\'status\'>{{review.status}}</span></div>\n            <div><span>{{review.score}}/55</span></div>\n            <div>{{review.date_last_modified}}<div>\n          </td>\n          <td colspan=\"2\"><a class=\'author\'>{{review.assignee.username}}</a> ({{review.due_date}}) &mdash; <span embedit=\'review.contents\'></span></td>\n          <td><a ui-sref=\'review({id: review.id})\' translate=\'review.category.{{review.category}}\'></a></td>\n        </tr>\n        <tr ng-repeat=\'review in story.reviews | filter:{ category: \"closing\"}\' class=\'review\' ng-class=\'review.status\'>\n          <td>\n            <div><span class=\'status\'>{{review.status}}</span></div>\n          </td>\n          <td colspan=\"3\"><a class=\'author\'>{{review.assignee.username}}</a> &mdash; <span embedit=\'review.contents\'></span></td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/story.socialshare.html","<div class=\"share\" >\n  <span translate=\'share\'></span>\n  <a class=\'btn btn-line btn-share\' socialshare socialshare-provider=\"twitter\" socialshare-text=\"{{OG.title}}\" socialshare-via=\"{{settings.twitter.username}}\" socialshare-hashtags=\"{{settings.twitter.socialtags}}\" socialshare-url=\"{{absoluteUrl}}\"><span class=\'icon icon-social-twitter\'></span></a>\n\n  <a class=\'btn btn-line btn-share\' socialshare socialshare-provider=\"facebook\" socialshare-text=\"{{OG.title}}\" socialshare-title=\"{{OG.title}}\" socialshare-description=\"{{OG.description}}\"  socialshare-hashtags=\"{{settings.socialtags}}\" socialshare-media=\"{{OG.image}}\" socialshare-via=\"{{settings.facebook}}\" socialshare-type=\"feed\" socialshare-url=\"{{absoluteUrl}}\"><span class=\'icon icon-social-facebook\'></span></a>\n\n  <a class=\'btn btn-line btn-share\' socialshare socialshare-provider=\"linkedin\" socialshare-text=\"{{OG.title}}\" socialshare-description=\"{{OG.description}}\"  socialshare-source=\"{{OG.image}}\" socialshare-url=\"{{absoluteUrl}}\"><span class=\'icon icon-social-linkedin\'></span></a>\n\n   <a class=\'btn btn-line btn-share\' socialshare socialshare-provider=\"email\" socialshare-body=\"{{OG.title}} ({{absoluteUrl}}) by RESuME\" socialshare-source=\"{{OG.image}}\" socialshare-url=\"{{absoluteUrl}}\"><span class=\'icon icon-envelope\'></span></a>\n</div>");
$templateCache.put("/static/templates/partials/table-of-contents.html","<h2>table of contents</h2>\n<div class=\'actions\'>\n  <a class=\'action\' ng-click=\'toggleTableOfContents()\'>\n    <span class=\'icon icon-close\'></span>\n  </a>\n</div>\n<ul>\n  <li bs-scrollspy data-offset=\'100\' data-target=\'#h-{{heading.slug}}\' ng-repeat=\'heading in ToC\' class=\'heading heading-{{heading.level}}\'>\n    <a ng-click=\'setHash(heading.slug)\' bs-tooltip data-placement=\'right\'>{{heading.text}}</a>\n  </li>\n</ul>");
$templateCache.put("/static/templates/partials/table-of-documents.html","<!-- <h2>table of documents</h2>\n -->\n\n<!-- <div>\n  <div ng-repeat=\"document in documents\">\n    {{language}}\n    <span embedit=\'document.data.title\' language=\'language\'></span>\n  </div>\n</div> -->");
$templateCache.put("/static/templates/partials/tag.autocomplete.html","<div ng-if=\'data.type == \"__new__\"\' class=\"item create-new sans-serif\">\n  <span translate=\'or\'></span> <div class=\'btn-line-group transparent\'><button class=\'btn-line\' translate=\'button.createnewtag\' ng-click=\'openAddTagModal()\'></button></div>\n</div>\n<div ng-if=\'data.type != \"__new__\"\' class=\"item selectable sans-serif\">\n  <span rewording value=\'data.data.name\' default=\'{{data.name}}\' highlight=\'$highlight(text)\'></span>\n  <!-- <span ng-bind-html=\"$highlight($getDisplayText())\"></span> -->\n</div>");
$templateCache.put("/static/templates/partials/tag.html","<span ng-if=\'tag.category != \"keyword\" && tag.category != \"blog\"\' class=\'tag\' ng-class=\'tag.category\'><a href=\"{{getTagRoute(tag)}}\" rewording value=\'tag.data.name\' default=\'{{tag.name}}\'></a></span><span ng-if=\'tag.category == \"keyword\"\' class=\'tag\' ng-class=\'tag.category\'><a href=\"{{getTagRoute(tag)}}\" rewording value=\'tag.data.name\' default=\'{{tag.name}}\'></a></span><span ng-if=\'tag.category == \"blog\"\' class=\'tag\' ng-class=\'tag.category\'><a href ui-sref=\'blog.{{tag.slug}}\' rewording value=\'tag.data.name\' default=\'{{tag.name}}\'></a>\n</span><span>{{$last? \"\": \" &mdash; \"}}</span>");
$templateCache.put("/static/templates/partials/tag.input.html","<span ng-class=\'data.category\'>\n  <span class=\'type\'>{{data.category}}/</span>\n  <span rewording value=\'data.data.name\' default=\'{{data.name}}\'></span>\n	<a class=\"remove-button\" ng-click=\"$removeTag()\" ><span class=\'icon-close\'></span></a>\n</span>");
$templateCache.put("/static/templates/partials/tags.input.html","<label translate=\"{{tagField.label}}\"></label>\n<tags-input class=\'tags-input\' on-tag-adding=\'beforeAttachTag($tag)\' on-tag-removed=\'detachTag($tag)\' key-property=\'id\' display-property=\'name\' ng-model=\"tagField.tags\" add-from-autocomplete-only=\"true\">\n    <auto-complete template=\'{{\"templates/partials/tag.autocomplete.html\"|prefixTemplate}}\' source=\"suggestTags($query, tagField.filters, !tagField.addFromAutocompleteOnly)\" ></auto-complete>\n</tags-input>");
$templateCache.put("/static/templates/partials/term.html","<div ng-class=\'{\"active\": selectedDocument.id == term.id}\' class=\'doc term oembedded\' ng-click=\'selectDocument(term)\'>\n  <!-- this element has fixed height. -->\n  <!-- {{term}} -->\n  <div class=\'wrapper\'>\n    <div class=\'lazy-box\'>\n      \n      <div ng-if=\'!term.covers.length\' class=\'title\' rewording value=\'term.data.title\'></div>\n      <div ng-if=\'!term.covers.length\' class=\'copyright\' rewording value=\'term.data.abstract\'></div>\n      <!-- {{term.covers}} -->\n      <div class=\'cover\' ng-repeat=\'cover in term.covers\' lazy-img=\'{{cover|coverage}}\'></div>\n    </div>\n    <div class=\'tile\'>\n      <div class=\"tags\" ng-if=\"term.tags.length\">\n        <span class=\"tag\" ng-repeat=\'tag in term.tags|filter:{ category: \"writing\", status:\"public\" }\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n      </div>\n      <div class=\'title\' rewording value=\'term.data.title\'></div>\n      <div class=\'abstract\' rewording value=\'term.data.abstract\'></div>\n      <div class=\'authors\' ng-if=\"term.authors.length\">\n        by <span ng-repeat=\'author in term.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n      </div>\n      \n    </div>\n  </div>\n  <div class=\'excerpt\' rewording value=\'term.data.title\'></div>\n</div>");
$templateCache.put("/static/templates/partials/term.placeholder.html","<a ui-sref=\'story({postId: resolved.id})\'>{{resolved.title}}</a>\n");
$templateCache.put("/static/templates/partials/typeahead.html","<ul tabindex=\"-1\" class=\"typeahead dropdown-menu\" ng-show=\"true\" show=\"$isVisible()\" role=\"select\" aria-hidden=\"true\">\n  <li role=\"presentation\" ng-repeat=\"match in $matches\" ng-class=\"{active: $index == $activeIndex}\">\n    <a role=\"menuitem\" tabindex=\"-1\" ng-click=\"$select($index, $event)\" ng-bind=\"match.label\"></a>\n  </li>\n</ul>");
$templateCache.put("/static/templates/partials/user.input.html","<span ng-class=\'{\"staff\": data.is_staff}\'>\n  <span class=\'type\'>{{data.username}}\n  <a class=\"remove-button\" ng-click=\"$removeTag()\" ><span class=\'icon-close\'></span></a>\n</span>");
$templateCache.put("/static/templates/partials/directives/biography.html","<div class=\"biography\">\n  <div class=\'biography-tooltip\' ng-class=\'{\"hide\": tooltip.idx  < 0}\' style=\'left:{{tooltip.left}}px;bottom:{{tooltip.bottom}}px;top:initial\'>\n    <div class=\'inner\'>\n      <div class=\'date\' rewording value=\'tooltip.date\' follow=\'tooltip\'></div>\n      <div class=\'type\' ng-class=\'tooltip.type\' ng-if=\'tooltip.type\' translate=\'biography.activitytype.{{tooltip.type}}\'></div>\n      <div class=\'description\' rewording value=\'tooltip.description\' follow=\'tooltip\'></div>\n      <div class=\'arrow\'></div>\n    </div>\n  </div>\n  <div class=\'frame\'>\n    <label class=\'birth\'>\n        <div class=\'place\'>{{data.birth_place}}</div>\n        <div class=\'date\'>{{data.start_date|date:\"yyyy\"}}</div>\n    </label>\n\n    <label class=\'death\'>\n        <div class=\'place\'>{{data.death_place}}</div>\n        <div class=\'date\'>{{data.end_date|date:\"yyyy\"}}</div>\n      </label>\n\n    <div class=\'lifespan\'>\n      \n      <div class=\'line\'></div>\n      \n      <div class=\'line offset\'></div>\n\n      \n      \n\n      \n\n      <div class=\'bar-wrapper\' style=\'left: {{lifespan.left}}px; right: {{lifespan.right}}px\'>\n        <div class=\'date left\'>{{lifespan.years.min}}</div>\n        <div class=\'date right\'>{{lifespan.years.max}}</div>\n        <div class=\'bar\'></div>\n        <div class=\'border left\'></div>\n      <div class=\'border right\'></div>\n        <!-- <div class=\'border left\'></div>\n        <div class=\'border right\'></div> -->\n      </div>\n\n    </div>\n\n    <div class=\'activities\'>\n\n      <div class=\'date left\'><span>{{lifespan.years.min}}</span></div>\n      <div class=\'date right\'><span>{{lifespan.years.max}}</span></div>\n\n      <div class=\'activity\' ng-class=\'{\"active\": $index == tooltip.idx}\' ng-mouseover=\'showTooltip(activity, $index, $event)\'  ng-mouseleave=\'hideTooltip()\' style=\'top:{{$index * activity.height}}px;height:{{activity.height}}px\' ng-repeat=\'activity in data.activities\'>\n      <div class=\'description\' ng-if=\'activity.description.alignment==\"left\"|| activity.nodate\' style=\'left:5px; right: {{activity.description.right}}px;text-align:right\' rewording value=\'activity.description\'></div>\n        <div class=\'description\' ng-if=\'activity.description.alignment==\"right\"\' style=\'left: {{activity.description.left}}px\' rewording value=\'activity.description\'></div>\n\n        <div class=\'bar-wrapper\' style=\'left: {{activity.left}}px; right: {{activity.right}}px; min-width: 3px\'>\n          <div class=\'date left\'>{{activity.start_date}}</div>\n          <div class=\'date right\' ng-show=\'!activity.uniqdate\'>{{activity.end_date}}</div>\n          <div class=\'bar\' ng-class=\'activity.type\'></div>\n        </div>\n        <div class=\'line\'></div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/directives/commenter.html","<div class=\"commenter\" ng-click=\'$event.stopImmediatePropagation()\'>\n  <div class=\'leave\'>\n    <div class=\'actions float-right\' ng-if=\'!disableClose\'>\n      <div ng-click=\'discard($event)\'><span class=\'icon icon-close\'></span></div>\n    </div>\n    <h4 class=\"sans-serif\"><span translate=\'comment.leave\'></span></h4>\n    <div class=\'section quote\' ng-if=\'quote\'>\n      <span max-words=\'5\' commenter-quote=\"quote\"></span>\n    </div>\n    \n    <div class=\'section\'>\n      <label>{{actor.username}}</label>\n      <textarea rows=\"3\" placeholder=\'... write here\' class=\'elastic-textarea\' msd-elastic ng-model=\'content\' ng-model-options=\"{ debounce: 200 }\"></textarea>\n    </div>\n    <div class=\"actions\">\n      <div class=\'btn-line-group primary transparent\'>\n        <button  class=\'btn-line\' ng-click=\'leaveComment()\' ng-disabled=\'isLoading\'><span translate=\'button.comment.leave\' translate-values=\'isLoading\'></span> <span class=\'icon icon-pencil\'></span></button>\n      </div>\n      <div class=\'btn-line-group  transparent float-right\'>\n        <button  class=\'btn-line\'>\n          <span translate=\'comment.status.private\'></span><span class=\'icon icon-eye\'></span>\n        </button>\n      </div>\n    </div>\n  </div>\n  <!-- view comment -->\n  <div class=\'section comments\' ng-if=\'!disableViewer\'>\n    <div ng-repeat=\'comment in attachedComments\' ng-include=\'\"templates/partials/comment.html\"|prefixTemplate\'></div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/directives/footnote.html","<span class=\"footnote\">\n  <!-- <a ng-click=\"toggleFootnote()\">{{caption}}</a> -->\n  <div class=\"footnote-contents\" ng-show=\"isOpened\"></div>\n</span>");
$templateCache.put("/static/templates/partials/directives/lazy-cover.html","<div ng-if=\"!immediate\" class=\"lazy-cover\" style=\"background-position:{{offsetx}} {{offsety}};\" lazy-img=\"{{src}}\"></div>\n<div ng-if=\"immediate\" class=\"lazy-cover loaded\" style=\"background-position:{{offsetx}} {{offsety}}; background-image: url({{src}})\"></div>\n      ");
$templateCache.put("/static/templates/partials/directives/lazy-placeholder.html","<div class=\'placeholder\' ng-if=\'type==\"doc\"\' ng-init=\'document=resolved\' ng-include=\'\"templates/partials/document.html\"|prefixTemplate\'></div>\n<span class=\'placeholder\' ng-if=\'type==\"voc\"\' ng-include=\'\"templates/partials/term.placeholder.html\"|prefixTemplate\'></span>");
$templateCache.put("/static/templates/partials/directives/marginalia.html","<div id=\"marginalia\"></div>");
$templateCache.put("/static/templates/partials/directives/mde.html","<div ng-show=\'isReady\' class=\'mde\'>\n  <div class=\'wand\' >\n    <button class=\'btn\' ng-disabled=\'isPreviewEnabled\' ng-click=\'showReferenceModal()\'><span class=\'icon-plus\'></span></button>    \n  </div>\n	<textarea class=\'mde-textarea\' placeholder=\"write something...\"></textarea>\n</div>");
$templateCache.put("/static/templates/partials/directives/rangy.html","<div class=\"rangy\" ng-class=\'{\"enabled\":isEnabled}\'>\n  <div commenter target=\"target\" actor=\"actor\" highlight=\'highlight\' discarded=\'discarded()\' comments-selected=\'commentsSelected\' commented=\"commented(error, comment)\"></div>\n</div>\n      ");
$templateCache.put("/static/templates/partials/directives/rich-oembed.html","<div class=\'rich-oembed-iframe-wrapper {{oembed.type}}\' ng-class=\'{\"with-thumbnail\": with-thumbnail}\'>\n  <div ng-click=\'toggleEnable()\' class=\"shadow\">\n    <div class=\'toggler\' ng-if=\'oembed.type == \"video\"\' ><span class=\'icon icon-control-play\'></span></div>\n  </div>\n  <div class=\'rich-oembed-iframe-viewport\' ng-class=\'{\"active\":iframeEnabled}\'>\n    <div  style=\'height: 100%; width: 100%; \' >\n      <div class=\'image-wrapper cover\' lazy-cover media=\'media\' immediate=\'{{immediate}}\' quality=\'{{quality}}\'></div>\n    </div>\n    <div ng-if=\'iframeEnabled\' style=\'height: 100%; position: absolute; top:0; left:0;width: 100%\' stretch=\'true\' autoplay=\'{{autoplay}}\' embedit=\'oembed.html\' language=\'language\'></div>\n  </div>\n  <div class=\'actions\'>\n    <a ng-if=\'(oembed.type == \"rich\" && oembed.html) || iframeEnabled\'  class=\"action\" ng-click=toggleEnable()>\n      <span class=\'icon\' ng-class=\'{\"icon-control-play\": !iframeEnabled, \"icon-close\": iframeEnabled}\'></span>\n    </a>\n    <a class=\'action\' ng-if=\'fullscreen\' ng-click=\"toggleFullscreen()\">\n      <span class=\'icon icon-size-fullscreen\'></span>\n    </a>\n\n  </div> \n</div>");
$templateCache.put("/static/templates/partials/directives/sliding-steps.html","<div class=\'sliding-steps-direction top\' ng-class=\'{\"active\":isMoreTop}\'>\n  <div class=\'btn-line-group\'>\n    <button class=\"btn btn-line\" ng-click=\'prev()\'>\n      <span class=\"icon icon-arrow-up-circle\"></span>\n      <span translate=\'button.previous\'></span> \n    </button>\n  </div>\n</div>\n\n<div class=\"sliding-steps-wrapper\" ng-class=\'{\"more-top\":isMoreTop, \"more-bottom\":isMoreBottom}\'>\n  <div class=\'sliding-steps\'>\n    <div id=\'step-{{item._index}}\' class=\'step {{item._type}}\' ng-class=\'{active: item.isFocused}\' ng-repeat=\"item in items\" ng-init=\'document=item\' ng-if=\'item._type != \"block-doc\"\'>\n      <div class=\"thumbnail\" ng-class=\'item.type\' ng-if=\'item._type==\"doc\" && item.type != \"link\" && item.type != \"crossref\"\' >\n        <div class=\"thumbnail-image\"  rich-oembed autoplay=\'true\' fullscreen=\'fullsize(document.slug, document._type)\' enabled=\'item.isFocused\' media=\'document\' quality=\'snapshot\' oembed=\'document.data\'></div>\n      </div>\n\n      <!-- glossary items -->\n      <div ng-if=\"item._type==\'voc\'\" class=\'metadata\' ng-class=\'item.type || item._type\'>\n        <button class=\'btn btn-line\' ng-click=\'alignTo(item._index, $event)\'>\n          <span class=\'icon icon-type-{{item.type||item._type}}\'></span><span class=\'type {{document.type}}\'></span>\n        </button>\n       \n        <span class=\'title\' embedit=\'item.data.title\' language=\'language\'></span>\n          \n        \n        <!-- glossary contents -->\n        <div class=\'contents\'>\n          \n          <span class=\"tags\" ng-if=\"item.tags.length\">\n            <span class=\'tag\' ng-repeat=\'tag in item.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n          </span>\n          | \n          <span class=\'authors\' ng-if=\"item.authors.length\">\n            <span translate=\"written.by\"></span> <span ng-repeat=\'author in item.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n          </span>\n          \n          <div class=\'caption\'>\n            <span rewording value=\'item.data.abstract\' default=\'{{item.abstract}}\'></span>\n            <span>\n              <a ui-sref=\'story({postId:item.slug})\'>\n                <span translate=\'more\'></span>\n                <!-- <span class=\"icon icon-arrow-right-circle\"></span> -->\n              </a>\n            </span>\n          </div>\n    \n        </div>\n      </div>\n\n\n      <div ng-if=\"item._type==\'footnote\'\" class=\"metadata footnote-wrapper\">\n        <button class=\'btn btn-line\' ng-click=\'alignTo(item._index, $event)\'>\n        <span>{{item.caption}}</span>\n        </button>\n        <span footnote=\'item.id\' caption=\'item.caption\' is-opened=\'true\'></span>\n      </div>\n      <!-- <div ng-if=\"item.type==\'image\'\">\n        {{item.data}}\n      </div> -->\n      <div ng-if=\'item.data && item._type!=\"voc\"\' ng-include=\'\"templates/partials/document.metadata.html\"|prefixTemplate\'></div>\n    </div>\n  </div>\n</div>\n\n<div class=\'sliding-steps-direction bottom\' ng-class=\'{\"active\":isMoreBottom}\'>\n  <div class=\'btn-line-group\'>\n    <button class=\"btn btn-line\" ng-click=\'next()\'>\n      <span class=\"icon icon-arrow-down-circle\"></span>\n      <span translate=\'button.next\'></span> \n    </button>\n  </div>\n</div>\n\n<div id=\'sliding-steps-line\'></div>");
$templateCache.put("/static/templates/partials/embeds/Flickr.html","<div ng-if=\'embed.html\' style=\'height: 200px; width: 100%; overflow: hidden\' embedit=\'embed.html\' stretch=\"true\"></div>\n<div ng-if=\'!embed.html\' style=\'height: 200px; width:100%; background-position: center; background-color: #151515; background-size:contain; background-repeat: no-repeat;\' lazy-img=\'{{embed.url}}\'></div>\n<a class=\'permalink\' target=\'_blank\' ng-href=\'{{embed.url}}\'>{{embed.title}}</a>\n<div class=\'description\'>{{embed.description}} <a target=\'_blank\' ng-href=\'{{embed.url}}\'>{{embed.url|smartUrl}}</a> <span translate=\"by\"></span> <a ng-href=\'embed.author_url\' target=\'_blank\'>{{embed.author_name}}</a> <span translate=\"on\"></span> <a ng-href=\'embed.provider_url\' target=\'_blank\'>{{embed.provider_name}}</a></div>\n");
$templateCache.put("/static/templates/partials/embeds/Ina.fr.html","<div class=\'caption title\' embedit=\'embed.title\'></div>\n<div class=\'caption reference\' embedit=\'embed.description\'></div>\n<img lazy-img src=\'{{embed.thumbnail_url}}\' />\n\n");
$templateCache.put("/static/templates/partials/embeds/YouTube.html","\n<div class=\'caption title\' markdown=\'embed.title\'></div>\n<div class=\'copyright\'><a ng-href=\'embed.author_url\'>{{embed.author_name}}</a></div>\n\n\n<div lazy-image src=\'embed.thumbnail_url\'></div>\n\n");
$templateCache.put("/static/templates/partials/embeds/cvce.html","\n<div class=\'caption title\' markdown=\'embed.title.fr\'></div>\n<div class=\'caption reference\' markdown=\'embed.reference.fr\'></div>\n<div class=\'copyright\'>{{embed.copyrights}}</div>\n\n\n <div ng-if=\'embed.urls.Preview\'>\n  <div lazy-image src=\'embed.urls.Preview\'></div>\n </div>\n\n");
$templateCache.put("/static/templates/partials/embeds/document.html","<div class=\'oembedded doc doc-{{document.type}}\' ng-class=\'{\"active\": document.id == selectedDocument.id}\' ng-click=\'selectDocument(document)\'>\n\n  <!-- <div class=\'divider\'>&nbsp;</div> -->\n  \n  <div class=\'wrapper\'>\n    <div ng-if=\'document.data\'>\n      <div src=\'document.data.thumbnail_url || document.data.urls.Preview || document.snapshot || document.data.url\' lazy-image></div>\n      <!-- <div ng-if=\'document.data.thumbnail_url\' lazy-image src=\'document.data.thumbnail_url\'></div>\n\n      <div ng-if=\'!document.data.thumbnail_url && document.data.urls.Preview\' lazy-image src=\'document.data.urls.Preview\'></div>\n\n      <div ng-if=\'!document.data.thumbnail_url && !document.data.urls.Preview\' class=\'lazy-box\'></div>\n -->\n      <div class=\'tile\'>\n        <div class=\'title\' embedit=\'document.data.title\' language=\'language\'></div>\n        <div class=\'copyright\' embedit=\'document.data.copyright\'></div>\n      </div>\n    </div>\n    <div ng-if=\'!document.data\'>\n      <div ng-if=\'document.urls.Preview\' lazy-image src=\'document.urls.Preview\'></div>\n      <div ng-if=\'document.src\' lazy-image src=\'document.src\'></div>\n      <!-- {{document}} -->\n      <div class=\'tile\'>\n        <div class=\'title\' embedit=\'document.title\'></div>\n        <div class=\'copyright\' embedit=\'document.copyright\'></div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\'excerpt\'><span class=\'type\'>{{document.type}}</span> <span embedit=\'document.title\'></span></div>\n</div>");
$templateCache.put("/static/templates/partials/embeds/metadata.html","<div>\n  <a class=\'permalink\' ng-if=\'embed.title\' target=\'_blank\' ng-href=\'{{embed.url}}\'>{{embed.title}}</a>\n  <span class=\'permalink\' ng-if=\'!embed.title\' translate=\'enrich.type.notitle\'></span>\n</div>\n<div class=\'description\'>{{embed.description}} <span ng-if=\'embed.description\'> &mdash;</span> <a target=\'_blank\' ng-href=\'{{embed.url}}\'>{{embed.url|smartUrl}}</a>\n  <span ng-if=\"embed.author_url\">\n    <span translate=\"by\"></span> <a ng-href=\'embed.author_url\' target=\'_blank\'>{{embed.author_name}}</a> \n  </span>\n  <span ng-if=\"embed.provider_url\">\n    <span translate=\"on\"></span> <a ng-href=\'embed.provider_url\' target=\'_blank\'>{{embed.provider_name}}</a>\n  </span>\n</div>");
$templateCache.put("/static/templates/partials/modals/add-review.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1051; display: block;\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n        <span aria-hidden=\"true\" class=\'icon-close\'></span>\n        </button>\n        <h4 class=\"modal-title\" translate=\"modals.addreview.title\"></h4>\n      </div>\n\n      <div class=\"modal-body\">\n        <div class=\"container-fluid\">\n          <div class=\'row\'>\n            <div  class=\'col-md-12\'>\n              <label translate=\"modals.addreview.field.reviewers.label\"></label>\n              <tags-input class=\'tags-input\' key-property=\'username\' template=\'{{\"templates/partials/user.input.html\"|prefixTemplate}}\' display-property=\'username\' placeholder=\"{{modals.addreview.field.reviewers.placeholder|translate}}\" ng-model=\"reviewers\" add-from-autocomplete-only=\"true\">\n                <auto-complete source=\"suggestReviewer($query, {groups__name:\'reviewers\'})\"></auto-complete>\n              </tags-input>\n            </div>\n\n            <!-- <div  class=\'col-md-12\'>\n            <p>{{reviewers}}</p>\n            </div> -->\n          </div>\n        </div>\n      </div>\n\n      <!-- eof body -->\n      <div class=\"modal-footer\">\n        <span class=\'btn-line-group\' ng-class=\'{\"primary\": reviewers.length}\'><button type=\"submit\" class=\"btn-line \" ng-class=\"{\'active\':reviewers.length}\" ng-disabled=\'!reviewers.length\' ng-click=\"confirm()\" translate=\'button.assignforreview\'></button>\n        </span>\n        <span class=\'btn-line-group transparent\'>\n        <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\" translate=\'button.dismiss\'></button>\n        </span>\n      </div>\n      <!-- eof footer -->\n    </div>\n\n  </div>\n</div>\n\n\n");
$templateCache.put("/static/templates/partials/modals/add-tag.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1051; display: block;\">\n  <div class=\"modal-dialog\">\n    <form name=\"addTagForm\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n          <span aria-hidden=\"true\" class=\'icon-close\'></span>\n          </button>\n          <h4 class=\"modal-title\" translate=\"modals.addtag.title\"></h4>\n        </div>\n        \n        <div class=\"modal-body\">\n          <div class=\"container-fluid\" style=\'padding-bottom: 20px\'>\n            <div class=\'row\' ng-if=\'tag.id && !tag.created\'>\n              <div class=\'modal-message\' translate=\'modals.addtag.tagexist\'></div>\n            </div>\n            <div class=\'row\'>\n              <div  class=\'col-md-12\'>\n                <label translate=\"modals.addtag.field.name.label\"></label>\n                <input placeholder=\'...\' required ng-model=\'name\' class=\'form-control\' >\n              </div>\n\n              <div ng-repeat=\'lang in settings.languages\' class=\'col-md-6\'>\n                <label><span translate=\"modals.addtag.field.name.label\"></span> (<span translate=\'language.{{lang}}\'></span>)</label>\n                <input placeholder=\'...\'  ng-model=\'data.name[lang]\' class=\'form-control\'>\n                <div class=\'conflict sans-serif\' ng-if=\'conflicts[lang]\' translate=\'conflict.before\' translate-values=\'{ value: conflicts[lang] }\'></div>\n              </div>\n\n              <div  class=\'col-md-12\'>\n                <label translate=\"modals.addtag.field.provider.label\"></label>\n                <input placeholder=\'EUROVOC, EUR-LEX ...\' ng-model=\'data.provider\'  class=\'form-control\' >\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- eof body -->\n        <div class=\"modal-footer\">\n          <span class=\'btn-line-group\' ng-class=\'{\"primary\": addTagForm.$valid}\'><button ng-if=\'!tag.id\' type=\"submit\" class=\"btn-line \" ng-class=\"{\'active\':addTagForm.$valid}\" ng-disabled=\'!addTagForm.$valid || is_saving\' ng-click=\"confirm()\" translate=\'button.create\'></button>\n          <button ng-if=\'tag.id\' type=\"submit\" class=\"btn-line \" ng-class=\"{\'active\':addTagForm.$valid}\" ng-disabled=\'!addTagForm.$valid || is_saving\' ng-click=\"update()\" translate=\'button.updateandattachtag\'></button>\n          </span>\n          <span class=\'btn-line-group transparent\'>\n          <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\" translate=\'button.dismiss\'></button>\n          </span>\n        </div>\n        <!-- eof footer -->\n      </div>\n    </form>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/modals/confirm.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1051; display: block;\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n        <span aria-hidden=\"true\" class=\'icon-close\'></span>\n        </button>\n        <h4 class=\"modal-title\" translate=\"{{title}}\"></h4>\n      </div>\n\n      <div class=\"modal-body\">\n        <p translate=\"{{question}}\"></p>\n      </div>\n\n      <!-- eof body -->\n      <div class=\"modal-footer\">\n        <span class=\'btn-line-group primary\'><button type=\"submit\" class=\"btn-line \" ng-class=\"{\'active\':isSomethingSelected}\" ng-click=\"confirm()\" translate=\'button.confirm\'></button>\n        </span>\n        <span class=\'btn-line-group transparent\'>\n        <button type=\"button\" class=\"btn-line\" ng-click=\"dismiss()\" translate=\'button.dismiss\'></button>\n        </span>\n      </div>\n      <!-- eof footer -->\n    </div>\n\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/modals/covers.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1051; display: block;\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n      <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n      <span aria-hidden=\"true\" class=\'icon-close\'></span>\n      </button>\n      <h4 class=\"modal-title\" translate=\"modal.covers.title\"></h4></div>\n      \n      <div class=\"modal-body\">\n        <div class=\'section padded\' style=\'padding-bottom: 0\'>\n          <label>\n            <span translate=\'search\'></span>{{isSomethingSelected}}\n            <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n          </label>\n          <input placeholder=\'....\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 200 }\" ng-change=\'suggest(query)\'>\n        </div>\n\n        <ul class=\"nav nav-tabs\" style=\'margin-bottom: 20px; padding-left:15px;\' role=\"tablist\">\n          <li role=\'presentation\' ng-class=\'{\"active\": _tab.name == tab.name}\' ng-repeat=\'_tab in tabs\'>\n            <a ng-click=\'setTab(_tab.name)\' translate=\'tab.{{_tab.name}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\"></a>\n          </li>\n        </ul>\n\n        <div>\n          <ul class=\'list-of-documents\'><li ng-repeat=\'document in tab.items\' ng-include=\'\"templates/partials/embeds/document.html\"|prefixTemplate\'></li>\n              </ul>\n          <div class=\'more-wrapper\'>\n                <div ng-if=\'tab.items.length > 0 && tab.items.length < tab.count\' class=\"btn-line-group primary\">\n                  <button class=\'btn-line\' ng-click=\'more()\'>\n                    <span ng-if=\'!tab.isLoadingNextItems\'>\n                      <span translate=\'button.more\'></span>\n                      <span translate=\'missing\' translate-values=\"{count: tab.missing}\"></span>\n                    </span>\n                    <span ng-if=\'tab.isLoadingNextItems\' translate=\'button.loading\'></span>\n                  </button>\n                </div>\n                <!-- when count equals item length, we are at the end -->\n              </div>\n        </div>\n      </div>\n      <!-- eof body -->\n      <div class=\"modal-footer\">\n        <span class=\'btn-line-group\' ng-class=\"{\'primary\':isSomethingSelected}\"><button type=\"button\" class=\"btn-line \" ng-class=\"{\'active\':isSomethingSelected}\" ng-click=\"addDocument(tab.name, contents, reference, url, embed)\" translate=\'button.add\'></button>\n        </span>\n        <span class=\'btn-line-group\'>\n        <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\">Close</button>\n        </span>\n      </div>\n      <!-- eof footer -->\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/modals/final-decision.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1051; display: block;\">\n  <div class=\"modal-dialog\">\n    <form name=\"fdForm\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n          <span aria-hidden=\"true\" class=\'icon-close\'></span>\n          </button>\n          <h4 class=\"modal-title\" translate=\"modals.finaldecision.title\"></h4>\n        </div>\n\n        <div class=\"modal-body\">\n          <div class=\"container-fluid\" style=\'padding-bottom: 20px\'>\n            <div class=\'row\'>\n              <div  class=\'col-md-12\'>\n                <label>\n                  <span translate=\"modals.finaldecision.field.status.label\"></span>\n                  <p class=\'description\' translate=\'modals.finaldecision.field.status.abstract\'>\n                </p>\n                </label>\n                <p>\n                <select name=\'finalStatus\' required ng-model=\"review.status\">\n                  <option ng-repeat=\'status in availableStatus\' ng-value=\'status\' translate=\'field.label.review.status.{{status}}\'></option>\n                </select>\n                </p>\n                <!-- final comments -->\n                <label>\n                  <span translate=\"field.label.review.final\"></span>\n                  <p class=\'description\' translate=\"field.label.review.final.description\"></p>\n                </label>\n                <div class=\'elastic-textarea-wrapper\'>\n                  <textarea required rows=\"10\" required class=\'elastic-textarea\' msd-elastic ng-model=\'review.contents\' name=\'reviewcontentstext\' ng-model-options=\"{ debounce: 200 }\"></textarea>\n                </div>\n                \n\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- eof body -->\n        <div class=\"modal-footer\">\n          <span class=\'btn-line-group\' ng-class=\'{\"primary\": fdForm.$valid && review.status}\'><button type=\"submit\" class=\"btn-line \" ng-class=\"{\'active\':fdForm.$valid && review.status}\" ng-disabled=\'!fdForm.$valid || !review.status\' ng-click=\"confirm()\" translate=\'button.confirm\' translate-values=\'{is_saving:isSaving}\'></button>\n          </span>\n          <span class=\'btn-line-group transparent\'>\n          <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\" translate=\'button.dismiss\'></button>\n          </span>\n        </div>\n        <!-- eof footer -->\n      </div>\n    </form>\n\n  </div>\n</div>\n\n\n");
$templateCache.put("/static/templates/partials/modals/fullsize.html","<div ng-class=\'{\"with-cover\":fullsized.data.thumbnail_url}\' class=\"modal fullsize {{fullsized.type}}\"  tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1050; display: block;\">\n  <div ng-click=\'$hide()\' class=\'close\'>\n  <span class=\'icon-close\'></span>\n  </div>\n  <div ng-class=\'fullsized.type\' class=\'oversize\' style=\'\'>\n    <div class=\"wrapper\">\n      <div class=\"header\">\n        <div class=\"inner\" style=\'display: table-cell\'>\n          <h2 embedit=\'fullsized.data.title\'></h2>\n          <div ng-init=\'document=fullsized\' ng-include=\'\"templates/partials/document.metadata.linear.html\"|prefixTemplate\'\'></div>\n        </div>\n      </div>\n      <div class=\"main\">\n        <div class=\"box sidebar\"></div>\n        <div class=\"box content\" ng-if=\'fullsized.type != \"text\"\'>\n          <div class=\'embedded\' ng-if=\'fullsized.data.html && !fullsized.data.urls\' stretch=\'true\' embedit=\'fullsized.data.html\'></div>\n          <div class=\'embedded\' ng-if=\'fullsized.data.html && fullsized.data.urls\'>\n            <!-- ex cvce -->\n            <div class=\'image-wrapper cover\' style=\'background-size:contain; background-color: #151515; background-image:url({{fullsized|coverage:\"hifi\"}})\'></div>\n          </div>\n          <div class=\'embedded\' ng-if=\'!fullsized.data.html\'>\n            <div class=\'image-wrapper cover\' style=\'background-size:contain; background-color: #151515; background-image:url({{fullsized|coverage:\"hifi\"}})\'></div>\n\n          </div>\n          <!-- {{fullsized}} -->\n        </div>\n        <div class=\"box content\" ng-if=\'fullsized.type == \"text\"\'>\n          <div class=\'embedded\' stretch=\'true\' embedit=\'fullsized.data.caption\'></div>\n        </div>\n        \n        <div class=\"box sidebar\"></div>\n      </div>\n      <div class=\"footer\">\n        <div class=\'inner\' >\n          <div ng-if=\'fullsized.data.copyright\' class=\'text copyright\' embedit=\'fullsized.data.copyright\' language=\"language\" firstline=\'true\'></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/modals/mde-enrich.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1050; display: block;\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\" ng-show=\"title\">\n      <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n      <span aria-hidden=\"true\" class=\'icon-close\'></span>\n      </button>\n      <h4 class=\"modal-title\">add resource</h4></div>\n      \n      <div class=\"modal-body\">\n\n        \n        <!-- <input type=\'text\' class=\"form-control\" placeholder=\"search ...\"> -->\n        <ul class=\"nav nav-tabs\" style=\'padding-left:15px; margin-bottom:0\' role=\"tablist\">\n          <li role=\'presentation\' ng-class=\'{\"active\": _tab.name == tab.name}\' ng-repeat=\'_tab in tabs\'>\n            <a ng-click=\'setTab(_tab.name)\' translate=\'tab.{{_tab.name}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\"></a>\n          </li>\n        </ul>\n\n        \n          <div ng-show=\"tab.name == \'favourite\'\" class=\"tab-content\">\n            <div class=\'section padded\' ng-class=\'{\"last\": !lookups.length}\'>\n              <label>\n                <span translate=\'search\'></span>\n                <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n              </label>\n              <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 450 }\" ng-change=\'suggest(query)\'>\n              <ul class=\"suggestions\">\n                <li ng-repeat=\'suggestion in tab.suggestions\'><a href=\'\' ng-click=\'tab.suggestquery(suggestion)\'>{{suggestion}}</a></li>\n              </ul>\n              <!-- <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 450 }\" ng-change=\'suggest(query)\' bs-options=\"item in tab.typeahead($viewValue)\" bs-typeahead data-template=\'{{\"templates/partials/typeahead.html\"|prefixTemplate}}\'> -->\n              <!-- <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'ghh\' bs-options=\"item as item.label in tab.typeahead($viewValue)\" bs-typeahead> -->\n            </div>\n            <div class=\'section last\'>\n              <ul class=\'list-of-documents\'><li ng-repeat=\'document in tab.items\' ng-include=\'\"templates/partials/embeds/document.html\"|prefixTemplate\'></li>\n              </ul>\n              <div class=\'more-wrapper\'>\n                <div ng-if=\'tab.items.length > 0 && tab.items.length < tab.count\' class=\"btn-line-group primary\">\n                  <button class=\'btn-line\' ng-click=\'more()\'>\n                    <span ng-if=\'!tab.isLoadingNextItems\'>\n                      <span translate=\'button.more\'></span>\n                      <span translate=\'missing\' translate-values=\"{count: tab.missing}\"></span>\n                    </span>\n                    <span ng-if=\'tab.isLoadingNextItems\' translate=\'button.loading\'></span>\n                  </button>\n                </div>\n                <!-- when count equals item length, we are at the end -->\n              </div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'crossref\'\" class=\"tab-content\">\n            <div class=\'section padded\' ng-class=\'{\"last\": !lookups.length}\'>\n              <label>\n                <span translate=\'search\'></span>\n                <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n              </label>\n              <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 450 }\" ng-change=\'suggest(query)\'>\n            </div>\n            <div class=\'section last\'>\n              <ul class=\'list-of-documents\'><li ng-repeat=\'item in tab.items\' ng-include=\'\"templates/partials/crossref.html\"|prefixTemplate\'></li>\n              </ul>\n              <div ng-include=\'\"templates/partials/more.html\"|prefixTemplate\'></div>\n            </div>\n          </div>\n          <div ng-show=\"tab.name == \'glossary\'\" class=\"tab-content\">\n            <div class=\'section padded\' ng-class=\'{\"last\": !glossary.length}\'>\n              <label>\n                <span translate=\'search\'></span>\n                <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n              </label>\n              <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 250 }\" ng-change=\'suggest(query)\'>\n            </div>\n            <div class=\'section last\'>\n              <ul class=\'list-of-documents\'><li ng-repeat=\'term in tab.items\' ng-include=\'\"templates/partials/term.html\"|prefixTemplate\'></li>\n              </ul>\n              <div ng-include=\'\"templates/partials/more.html\"|prefixTemplate\'></div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'CVCE\'\" class=\"tab-content\">\n            <div class=\'section padded\' ng-class=\'{\"last\": !suggestResults.length}\'>\n              <label>\n                <span translate=\'search\'></span>\n                <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n              </label>\n              <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 250 }\" ng-change=\'suggest(query)\'>\n            </div>\n            <div class=\'section last\'>\n              <ul class=\'list-of-documents\'>\n                <li ng-repeat=\'document in tab.items\' ng-include=\'\"templates/partials/oembed-search-results.html\"|prefixTemplate\'>\n                </li>\n              </ul>\n              <div class=\'more-wrapper\'>\n                <div ng-if=\'tab.items.length > 0 && tab.items.length < tab.count\' class=\"btn-line-group primary\">\n                  <button class=\'btn-line\' ng-click=\'more()\'>\n                    <span ng-if=\'!tab.isLoadingNextItems\'>\n                      <span translate=\'button.more\'></span>\n                      <span translate=\'missing\' translate-values=\"{count: tab.missing}\"></span>\n                    </span>\n                    <span ng-if=\'tab.isLoadingNextItems\' translate=\'button.loading\'></span>\n                  </button>\n                </div>\n                <!-- when count equals item length, we are at the end -->\n              </div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'url\'\" class=\"tab-content\">\n            <div class=\'section padded\'>\n              <label translate=\'url\'></label>\n              <span style=\'color: #b7b7b7\' translate=\'{{suggestMessage}}\'></span>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea monospace\" rows=\"3\" msd-elastic ng-model=\'url\' ng-change=\'previewUrl(url)\' type=\'text\' placeholder=\'http://\'></textarea>\n              </div>\n              \n              \n\n              <div class=\'preview\' ng-show=\'embed.url\' ng-class=\'embed.type\'>\n                <!-- <div ng-if=\'embed.provider_name==\"CVCE\"\' ng-include=\'\"templates/partials/embeds/cvce.html\"|prefixTemplate\'></div> -->\n                <!-- <div ng-if=\'embed.provider_name==\"YouTube\"\' ng-include=\'\"templates/partials/embeds/YouTube.html\"|prefixTemplate\'></div> -->\n                <div ng-if=\'embed.type == \"photo\"\' ng-include=\'\"templates/partials/embeds/Flickr.html\"|prefixTemplate\'></div>\n                <div ng-if=\'embed.provider_name==\"Ina.fr\"\' ng-include=\'\"templates/partials/embeds/Ina.fr.html\"|prefixTemplate\'></div>\n\n                <div ng-if=\'embed.type == \"link\"\'>\n                  <!-- <p translate=\'enrich.url.noembedfound\'></p> -->\n                  <div ng-if=\'embed.thumbnail_url\' class=\'image-wrapper\'>\n                    <div lazy-img=\'{{embed.thumbnail_url}}\' class=\'cover\' style=\'height: 100%\'></div>\n                  </div>\n                  \n                  <a class=\'permalink\' target=\'_blank\' ng-href=\'{{embed.url}}\'>{{embed.title}}</a>\n                  <div class=\'description\'>{{embed.description}} <a target=\'_blank\' ng-href=\'{{embed.url}}\'>{{embed.url|smartUrl}}</a></div>\n                  \n                  \n                </div>\n\n                <div ng-if=\'embed.type == \"rich\" || embed.type == \"video\" || embed.type == \"timeline\"\'>\n                  <div ng-if=\'embed.html\' class=\'embed\' style=\'height: 300px; width: 100%; overflow: auto\' embedit=\'embed.html\' stretch=\"true\"></div>\n                  <div ng-include=\'\"templates/partials/embeds/metadata.html\"|prefixTemplate\'></div>\n\n                </div>\n                <div style=\'clear:both\'></div>\n              </div>\n            </div>\n            <div class=\'section padded\'>\n              <label>\n                <div translate=\'enrich.url.iframe.description\'></div>\n                <span ng-if=\'!url\' translate=\'enrich.url.embedRequiresUrl\'></span><span ng-if=\'url && !isUrlValid\' translate=\'enrich.url.notvalid\'></span>\n              </label>\n              <div class=\'elastic-textarea-wrapper\' ng-class=\'{\"disabled\": !isUrlValid}\'>\n                <textarea class=\"elastic-textarea monospace limited\" ng-change=\'tab.onEmbedChange()\' ng-disabled=\'!isUrlValid\' rows=\"3\" msd-elastic  ng-model=\'embed.html\' type=\'text\' placeholder=\'\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded\'>\n              <label translate=\'title\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" rows=\"3\" msd-elastic ng-model=\'embed.title\' type=\'text\' placeholder=\'untitled\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded\'>\n              <label translate=\'description\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" rows=\"3\" msd-elastic ng-model=\'embed.description\' type=\'text\' placeholder=\'untitled\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded last\'>\n              <label translate=\'bibtex reference\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea bibtex\" rows=\"3\" msd-elastic ng-model=\'reference\' type=\'text\' placeholder=\'@{}\'></textarea>\n              </div>\n              <div class=\'sans-serif description\' translate=\'bibtex.howto\'></div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'upload\'\" class=\"tab-content\">\n            <div class=\'section padded\'>\n              <div class=\'drop-box-form-wrapper\'>\n                <form name=\"createForm\" novalidate class=\"simple-form\">\n                  <div ng-show=\'!uploadablefile.size\'>\n                    <div ngf-drop ngf-select ng-model=\"uploadable\" class=\"drop-box sans-serif\" \n                         ngf-drag-over-class=\"\'dragover\'\" ngf-multiple=\"false\" ngf-allow-dir=\"true\"\n                         accept=\"image/*,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document\" \n                         ngf-pattern=\"\'image/*,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document\'\"><span translate=\"drop.to.upload\"></span>\n                    </div>\n                  </div>\n                  <div class=\"uploadable\" ng-show=\'uploadablefile.size\'>  \n                    <div ng-if=\'!uploadablefile.document\'>\n                      <span>{{uploadablefile.name}}</span>\n                      <span>{{uploadablefile.type}}</span>\n                      <span>{{uploadablefile.size}}</span>\n                      <div class=\'btn-line-group\'><a class=\'btn-line\' ng-click=\'undo()\' translate=\'button.undo\'></a></div>\n                      \n                    </div>\n                    <div class=\"loading-bar\" style=\'width:{{uploadablefile.progressPercentage|| 0}}%\'></div>\n                    \n                    <div class=\'doc-uploaded\' ng-if=\'uploadablefile.document\' ng-init=\'document=uploadablefile.document\'>\n                      <div class=\"row\">\n                        <div class=\"col-sm-5\">\n                          <div class=\"cover\" style=\'height: 180px;\' lazy-img=\'{{document.snapshot}}\'></div>\n                        </div>\n                        <div class=\"col-sm-7\">\n                          <div class=\'title sans-serif\' embedit=\'document.data.title\'></div>\n                          <div class=\'copyright\' embedit=\'document.data.copyright\'></div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </form>\n              </div>\n              <div ngf-no-file-drop><span translate=\'feature.unsupported.dragdrop\'></span></div>\n            </div>\n            <!-- @todo -->\n            <div class=\'section padded\' ng-show=\'!uploadablefile.document\'>\n\n              <label translate=\'title\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" rows=\"3\" msd-elastic ng-model=\'uploadablefile.title\' type=\'text\' placeholder=\'untitled\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded\' ng-show=\'!uploadablefile.document\'>\n              <label translate=\'copyright\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" rows=\"3\" msd-elastic ng-model=\'uploadablefile.copyright\' type=\'text\' placeholder=\'untitled\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded last\' ng-show=\'!uploadablefile.document\'>\n              <label translate=\'bibtex reference\'></label>\n              <div class=\'sans-serif description\' translate=\'bibtex.howto\'></div> \n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" style=\'max-height: 200px;\' rows=\"3\" msd-elastic ng-model=\'reference\' type=\'text\' placeholder=\'@{}\'></textarea>\n              </div>\n              \n            </div>\n            <div class=\'section padded last center\' ng-show=\'!uploadablefile.document\'>\n              <div class=\'btn-line-group\' ng-class=\'{\"primary\":uploadablefile.size}\'>\n                <button class=\'btn-line\' ng-click=\'upload()\' translate=\'button.upload\'></button>\n              </div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'iframe\'\" class=\"tab-content\">\n            <!-- @todo -->\n          </div>\n\n          <div ng-show=\"tab.name == \'bibtex\'\" class=\"tab-content\">\n            <span translate=\'bibtex.howto\'></span>\n            <label translate=\'bibtex\'></label>\n            <div class=\'elastic-textarea-wrapper\'>\n              <textarea class=\"elastic-textarea\" style=\"font-family: monospace;\" rows=\"8\" msd-elastic ng-model=\'reference\' type=\'text\' placeholder=\'@BOOK {}\'></textarea>\n            </div>\n          </div>\n          <div style=\'clear:both\'></div>\n\n\n      </div>\n      <div class=\"modal-footer\">\n        <span class=\'btn-line-group\' ng-class=\'{\"primary\": isSomethingSelected}\'>\n          <button type=\"button\" class=\"btn-line\" ng-class=\'{\"active\": isSomethingSelected}\' ng-click=\"addDocument(tab.name, contents, reference, url, embed)\" translate=\'button.add\'></button>\n        </span>\n        <span class=\'btn-line-group\'>\n        <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\">Close</button>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/modals/save-doi.html","<div class=\"modal save-doi\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1051; display: block;\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n        <span aria-hidden=\"true\" class=\'icon-close\'></span>\n        </button>\n        <h4 class=\"modal-title\"><span translate=\"modals.savedoi.title\"></span><span ng-if=\'doi\'> ({{doi}})</span></h4>\n      </div>\n      <div class=\"modal-body\" style=\'padding: 20px 0\'>\n        <div class=\"container-fluid\" >\n          <div class=\'row\'>\n            <div  class=\'col-md-12\'>\n            <p translate=\'modals.savedoi.description\' class=\'sans-serif\' style=\'font-size:11px; line-height:18px; margin-bottom:10px\'>\n            </p>\n            <div>\n              <div class=\'btn-line-group\'>\n                <a class=\'btn-line\' target=\'_blank\' href=\"/admin/miller/story/{{storyId}}/change/\">change metadata (admin)</a>\n              </div>\n              <div class=\'btn-line-group transparent\' ng-if=\'should_update_doi\'>\n                <a class=\'btn-line\' target=\'_blank\' href=\"/api/story/{{storyId}}/doi/metadata/\">verify remote metadata</a>\n              </div>\n              <div class=\'btn-line-group transparent\' ng-if=\'doi\'>\n                <a class=\'btn-line\' target=\'_blank\' href=\"/api/story/{{storyId}}/doi/metadata/?test=true&content-type=xml\">preview metadata</a>\n              </div>\n            </div>\n              <table class=\'table async\' ng-class=\'{\"loading\": !currentMetadata}\'>\n                <tr><th>DOI</th><td><span>{{currentMetadata.DOI}}</span><span class=\'badge\' ng-if=\'should_update_doi\'><span class=\'icon icon-check\'></span>public</span><span class=\'badge badge-warning\' ng-if=\'!should_update_doi && currentMetadata\'><span class=\'icon icon-exclamation\'></span>not yet created</span></td></tr>\n                <tr><th>publisher</th><td><span>{{currentMetadata.publisher}}</span></td></tr>\n                <tr><th>resourceType</th><td><span>{{currentMetadata.resourceType}}</span></td></tr>\n                <tr><th>publicationYear</th><td><span>{{currentMetadata.publicationYear}}</span></td></tr>\n                <tr><th>lastUpdate</th><td><span>{{currentMetadata.lastUpdate}}</span></td></tr>\n                <tr><th>title</th><td><span>{{currentMetadata.title}}</span></td></tr>\n                <tr><th>abstract</th><td style=\'font-size:11px;line-height:18px\'><span>{{currentMetadata.abstract}}<span></td></tr>\n                <tr><th>subjects</th><td style=\'font-size:11px;line-height:18px\'><span>{{currentMetadata.subjects}}<span></td></tr>\n                <tr>\n                  <th>creators</th>\n                  <td>\n                    <ol ng-repeat=\'person in currentMetadata.creators\'><li><b>{{person.creatorName}}</b><br/><em>affiliation</em>: {{person.affiliation || \"*no affiliation*\"}}<br/><em>ORCID</em>: {{person.ORCID || \"*no orcid*\"}}</li></ol>\n                  </td>\n                </tr>\n                <tr>\n                  <th>contributors</th>\n                  <td>\n                    <ol ng-repeat=\'person in currentMetadata.contributors\'><li><b>{{person.contributorName}}</b><br/><em>role</em>: {{person.contributorType}}<br/><em>affiliation</em>: {{person.affiliation || \"*no affiliation*\"}}<br/><em>ORCID</em>: {{person.ORCID || \"*no orcid*\"}}</li></ol>\n                    \n                  </td>\n                </tr>\n              </table>\n              \n            </div>\n          </div>\n          <div class=\'row\' ng-if=\'log_message.error\'>\n            <div class=\'modal-message error\'>{{log_message.error}}, {{log_message.errorDescription}}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <span class=\'btn-line-group primary\'>\n          <button type=\"submit\" class=\"btn-line \" ng-disabled=\'is_saving && !doi\' ng-click=\"confirm()\" translate=\'button.createorupdate\' translate-values=\'{create: !should_update_doi}\'></button>\n        </span>\n        <span class=\'btn-line-group transparent\'>\n          <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\" translate=\'button.dismiss\'></button>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/modals/save-version.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1051; display: block;\">\n  <div class=\"modal-dialog\">\n    <form name=\"f\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n          <span aria-hidden=\"true\" class=\'icon-close\'></span>\n          </button>\n          <h4 class=\"modal-title\" translate=\"modals.saveversion.title\"></h4>\n        </div>\n        \n        <div class=\"modal-body\">\n          <div class=\"container-fluid\" style=\'padding-bottom: 20px\'>\n            <div class=\'row\' ng-if=\'errors && errors.tag\'>\n              <div class=\'modal-message error\'><span translate=\'modals.saveversion.tagexist\'></span></div>\n            </div>\n            <div class=\'row\'>\n              <div  class=\'col-md-12\'>\n                <label><span translate=\"modals.saveversion.field.version.tag.label\"></span>\n                  <div class=\"description\"><span translate=\"modals.saveversion.field.version.tag.description\"></span></div>\n                </label>\n                <div class=\"elastic-textarea-wrapper\">\n                  <textarea required ng-model=\'version.tag\' ng-pattern=\'/^[A-Za-z\\d\\._\\-]+$/\' class=\'elastic-textarea\' style=\'min-height: 25px\' msd-elastic></textarea>\n                </div>\n              </div>\n\n\n              <div  class=\'col-md-12\'>\n                <label>\n                  <span translate=\"modals.saveversion.field.version.message.label\"></span>\n                  {{version.message.length > 120? \"> 120\" : version.message.length}} / 120\n                </label>\n                <div class=\"elastic-textarea-wrapper\">\n                <textarea ng-model=\'version.message\' class=\'elastic-textarea\' style=\'min-height: 50px\' ng-maxlength=\'120\' rows=\"3\" msd-elastic></textarea>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- eof body -->\n        <div class=\"modal-footer\">\n          <span class=\'btn-line-group\' ng-class=\'{\"primary\": f.$valid}\'><button type=\"submit\" class=\"btn-line \" ng-class=\"{\'active\':f.$valid}\" ng-disabled=\'!f.$valid || is_saving\' ng-click=\"confirm()\" translate=\'button.create\'></button>\n          </span>\n          <span class=\'btn-line-group transparent\'>\n          <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\" translate=\'button.dismiss\'></button>\n          </span>\n        </div>\n        <!-- eof footer -->\n      </div>\n    </form>\n  </div>\n</div>");}]);